---
### ALL PAGES ###
layout: master/global/default

### REGULAR PAGES ###
head:
  post-bundle-css: '
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <!-- CSS Implementing Plugins -->
    <link rel="stylesheet" href="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/bootstrap-icons/font/bootstrap-icons.css">

    <!-- CSS Front Template -->

    <link rel="preload" href="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/css/theme.min.css" data-hs-appearance="default" as="style">
    <link rel="preload" href="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/css/theme-dark.min.css" data-hs-appearance="dark" as="style">

    <style data-hs-appearance-onload-styles>
      * {
        transition: unset !important;
      }

      body {
        // opacity: 0;
      }
    </style>
    <style media="screen">
      .auth-signin-provider-btn * {
        pointer-events: none;
      }
    </style>
  '

foot:
  post-bundle-script: '



    <!-- JS Global Compulsory  -->
    <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/jquery-migrate/dist/jquery-migrate.min.js"></script>
    <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JS Implementing Plugins -->
    <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/hs-toggle-password/dist/js/hs-toggle-password.js"></script>

    <!-- JS Front -->
    <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/js/theme.min.js"></script>
    <script type="text/javascript" src="/assets/js/master.js?cb={{ site.time | date: "%s" }}" async defer></script>
  '

settings:
  include-app-foot: false
  include-app-head: false
  include-app-footer: false
  include-app-header: false
  include-script-bundle: false
  include-script-core: true
  include-css-bundle: false
  manager-configuration: "
    {
      libraries: {
        cookieconsent: {
          enabled: false
        },
        tawk: {
          enabled: false
        },
        lazysizes: {
          enabled: false,
        },
      }
    }
  "
---
{% assign is-sign-up-page = false %}
{% assign subtitle-text = 'to' %}
{%- if page.meta.breadcrumb == 'Sign up' -%}
  {% assign is-sign-up-page = true %}
  {% assign subtitle-text = 'for' %}
{%- endif -%}

<script>
            window.hs_config = {"autopath":"@@autopath","deleteLine":"hs-builder:delete","deleteLine:build":"hs-builder:build-delete","deleteLine:dist":"hs-builder:dist-delete","previewMode":false,"startPath":"/index.html","vars":{"themeFont":"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap","version":"?v=1.0"},"layoutBuilder":{"extend":{"switcherSupport":true},"header":{"layoutMode":"default","containerMode":"container-fluid"},"sidebarLayout":"default"},"themeAppearance":{"layoutSkin":"default","sidebarSkin":"default","styles":{"colors":{"primary":"#377dff","transparent":"transparent","white":"#fff","dark":"132144","gray":{"100":"#f9fafc","900":"#1e2022"}},"font":"Inter"}},"languageDirection":{"lang":"en"},"skipFilesFromBundle":{"dist":["assets/js/hs.theme-appearance.js","assets/js/hs.theme-appearance-charts.js","assets/js/demo.js"],"build":["assets/css/theme.css","assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js","assets/js/demo.js","assets/css/theme-dark.css","assets/css/docs.css","assets/vendor/icon-set/style.css","assets/js/hs.theme-appearance.js","assets/js/hs.theme-appearance-charts.js","node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.min.js","assets/js/demo.js"]},"minifyCSSFiles":["assets/css/theme.css","assets/css/theme-dark.css"],"copyDependencies":{"dist":{"*assets/js/theme-custom.js":""},"build":{"*assets/js/theme-custom.js":"","node_modules/bootstrap-icons/font/*fonts/**":"assets/css"}},"buildFolder":"","replacePathsToCDN":{},"directoryNames":{"src":"./src","dist":"./dist","build":"./build"},"fileNames":{"dist":{"js":"theme.min.js","css":"theme.min.css"},"build":{"css":"theme.min.css","js":"theme.min.js","vendorCSS":"vendor.min.css","vendorJS":"vendor.min.js"}},"fileTypes":"jpg|png|svg|mp4|webm|ogv|json"}
            window.hs_config.gulpRGBA = (p1) => {
  const options = p1.split(',')
  const hex = options[0].toString()
  const transparent = options[1].toString()

  var c;
  if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){
    c= hex.substring(1).split('');
    if(c.length== 3){
      c= [c[0], c[0], c[1], c[1], c[2], c[2]];
    }
    c= '0x'+c.join('');
    return 'rgba('+[(c>>16)&255, (c>>8)&255, c&255].join(',')+',' + transparent + ')';
  }
  throw new Error('Bad Hex');
}
            window.hs_config.gulpDarken = (p1) => {
  const options = p1.split(',')

  let col = options[0].toString()
  let amt = -parseInt(options[1])
  var usePound = false

  if (col[0] == "#") {
    col = col.slice(1)
    usePound = true
  }
  var num = parseInt(col, 16)
  var r = (num >> 16) + amt
  if (r > 255) {
    r = 255
  } else if (r < 0) {
    r = 0
  }
  var b = ((num >> 8) & 0x00FF) + amt
  if (b > 255) {
    b = 255
  } else if (b < 0) {
    b = 0
  }
  var g = (num & 0x0000FF) + amt
  if (g > 255) {
    g = 255
  } else if (g < 0) {
    g = 0
  }
  return (usePound ? "#" : "") + (g | (b << 8) | (r << 16)).toString(16)
}
            window.hs_config.gulpLighten = (p1) => {
  const options = p1.split(',')

  let col = options[0].toString()
  let amt = parseInt(options[1])
  var usePound = false

  if (col[0] == "#") {
    col = col.slice(1)
    usePound = true
  }
  var num = parseInt(col, 16)
  var r = (num >> 16) + amt
  if (r > 255) {
    r = 255
  } else if (r < 0) {
    r = 0
  }
  var b = ((num >> 8) & 0x00FF) + amt
  if (b > 255) {
    b = 255
  } else if (b < 0) {
    b = 0
  }
  var g = (num & 0x0000FF) + amt
  if (g > 255) {
    g = 255
  } else if (g < 0) {
    g = 0
  }
  return (usePound ? "#" : "") + (g | (b << 8) | (r << 16)).toString(16)
}
            </script>


<script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/js/hs.theme-appearance.js" charset="utf-8"></script>

<main id="content" role="main" class="main">
  <div class="position-fixed top-0 end-0 start-0 bg-img-start" style="height: 32rem; background-image: url(./assets/svg/components/card-6.svg);">
    <!-- Shape -->
    <div class="shape shape-bottom zi-1">
      <svg preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 1921 273">
        <polygon fill="#fff" points="0,273 1921,273 1921,0 " />
      </svg>
    </div>
    <!-- End Shape -->
  </div>

  <!-- Content -->
  <div class="container py-5 py-sm-7">
    <a class="d-flex justify-content-center mb-5" href="{{ site.url }}">
      <img class="zi-2" src="{{ site.brand.logo-image-svg }}" alt="{{ site.brand.name }}" style="width: 8rem;">
    </a>

    <div class="mx-auto" style="max-width: 30rem;">
      <!-- Card -->
      <div class="card card-lg mb-5">
        <div class="card-body">

          <div class="d-flex justify-content-center">
            <div id="spinner" class="spinner-border text-primary mb-3" role="status"></div>
          </div>

          <div class="d-grid">
            <div id="" class="alert alert-danger auth-error-message-element" role="alert" hidden> </div>
            <div id="result" class="alert" role="alert" hidden> </div>
            <a id="relaunch-btn" href="#" class="btn btn-primary" hidden>Resend credentials to the {{ site.brand.name }} app</a>
          </div>

          <!-- Form -->
          <form id="auth-container" onsubmit="return false;" hidden>
            <div class="text-center">
              <div class="mb-5">
                <h1 class="display-5">{{ page.meta.breadcrumb }} {{ subtitle-text }} {{ site.brand.name }}</h1>
                {%- if is-sign-up-page == true -%}
                  <p>Already have an account? <a class="link" href="{{ site.url }}/authentication/signin">Sign in here</a></p>
                {% else %}
                  <p>Need an account? <a class="link" href="{{ site.url }}/authentication/signup">Sign up here</a></p>
                {% endif %}
              </div>

              <div class="d-grid mb-4">
                <a class="btn btn-white btn-lg mb-1 auth-signin-provider-btn" href="#" data-provider="google.com" hidden>
                  <span class="d-flex justify-content-center align-items-center">
                    <img class="avatar avatar-xss me-2" src="https://cdn.itwcreativeworks.com/assets/general/images/brands/color/google.svg" alt="Google Logo">
                    {{ page.meta.breadcrumb }} with Google
                  </span>
                </a>
                <a class="btn btn-white btn-lg mb-1 auth-signin-provider-btn" href="#" data-provider="facebook.com" hidden>
                  <span class="d-flex justify-content-center align-items-center">
                    <img class="avatar avatar-xss me-2" src="https://cdn.itwcreativeworks.com/assets/general/images/brands/color/facebook.svg" alt="Facebook Logo">
                    {{ page.meta.breadcrumb }} with Facebook
                  </span>
                </a>
                <a class="btn btn-white btn-lg mb-1 auth-signin-provider-btn" href="#" data-provider="twitter.com" hidden>
                  <span class="d-flex justify-content-center align-items-center">
                    <img class="avatar avatar-xss me-2" src="https://cdn.itwcreativeworks.com/assets/general/images/brands/color/twitter.svg" alt="Twitter Logo">
                    {{ page.meta.breadcrumb }} with Twitter
                  </span>
                </a>
                <a class="btn btn-white btn-lg mb-1 auth-signin-provider-btn" href="#" data-provider="github.com" hidden>
                  <span class="d-flex justify-content-center align-items-center">
                    <img class="avatar avatar-xss me-2" src="https://cdn.itwcreativeworks.com/assets/general/images/brands/color/github.svg" alt="GitHub Logo">
                    {{ page.meta.breadcrumb }} with GitHub
                  </span>
                </a>
                <a class="btn btn-white btn-lg mb-1 auth-signin-provider-btn" href="#" data-provider="apple.com" hidden>
                  <span class="d-flex justify-content-center align-items-center">
                    <img class="avatar avatar-xss me-2" src="https://cdn.itwcreativeworks.com/assets/general/images/brands/color/apple.svg" alt="Apple Logo">
                    {{ page.meta.breadcrumb }} with Apple
                  </span>
                </a>
                <a class="btn btn-white btn-lg mb-1 auth-signin-provider-btn" href="#" data-provider="microsoft.com" hidden>
                  <span class="d-flex justify-content-center align-items-center">
                    <img class="avatar avatar-xss me-2" src="https://cdn.itwcreativeworks.com/assets/general/images/brands/color/microsoft.svg" alt="Microsoft Logo">
                    {{ page.meta.breadcrumb }} with Microsoft
                  </span>
                </a>
                <a class="btn btn-white btn-lg mb-1 auth-signin-provider-btn" href="#" data-provider="yahoo.com" hidden>
                  <span class="d-flex justify-content-center align-items-center">
                    <img class="avatar avatar-xss me-2" src="https://cdn.itwcreativeworks.com/assets/general/images/brands/color/yahoo-y.svg" alt="Yahoo Logo">
                    {{ page.meta.breadcrumb }} with Yahoo
                  </span>
                </a>

              </div>

              <span class="divider-center text-muted mb-4">OR</span>
            </div>

            <!-- Form -->
            <div class="mb-4">
              <label class="form-label" for="signupSrEmail">Your email</label>
              <input type="email" class="form-control form-control-lg auth-email-input" id="signupSrEmail" placeholder="jonsnow@gmail.com" aria-label="jonsnow@gmail.com" required autofocus autocomplete="email">
              <!-- <span class="invalid-feedback">Please enter a valid email address.</span> -->
            </div>
            <!-- End Form -->

            <!-- Form -->
            <div class="mb-4">
              {%- if is-sign-up-page == true -%}
                <label class="form-label" for="signupSrPassword">Password</label>
              {%- else -%}
                <label class="form-label w-100" for="signupSrPassword" tabindex="0">
                  <span class="d-flex justify-content-between align-items-center">
                    <span>Password</span>
                    <a class="form-label-link mb-0" href=".{{ site.url }}/forgot">Forgot Password?</a>
                  </span>
                </label>
              {%- endif -%}

              <div class="input-group input-group-merge">
                <input type="password" class="js-toggle-password form-control form-control-lg auth-password-input" id="signupSrPassword" placeholder="8+ characters required" aria-label="8+ characters required" required minlength="8" autocomplete="current-password">
                <a class="js-toggle-password-target-1 input-group-append input-group-text" href="javascript:;">
                  <i class="js-toggle-password-show-icon-1 bi-eye"></i>
                </a>
              </div>

              <!-- <span class="invalid-feedback">Your password is invalid. Please try again.</span> -->
            </div>
            <!-- End Form -->

            {%- if is-sign-up-page == true -%}
            <!-- Form -->
            <div class="mb-4">
              <label class="form-label" for="signupSrConfirmPassword">Confirm password</label>

              <div class="input-group input-group-merge">
                <input type="password" class="js-toggle-password form-control form-control-lg auth-password-confirm-input" id="signupSrConfirmPassword" placeholder="8+ characters required" aria-label="8+ characters required" required minlength="8" autocomplete="new-password">
                <a class="js-toggle-password-target-2 input-group-append input-group-text" href="javascript:;">
                  <i class="js-toggle-password-show-icon-2 bi-eye"></i>
                </a>
              </div>

              <!-- <span class="invalid-feedback">Password does not match the confirm password.</span> -->
            </div>
            <!-- End Form -->

            <!-- Form Check -->
            <div class="form-check mb-4">
              <input class="form-check-input auth-newsletter-input" type="checkbox" value="" id="newsletterCheckbox">
              <label class="form-check-label" for="newsletterCheckbox">
                I agree to sign up for account promotions and receive marketing newsletters. Learn more in our <a href="{{ site.url }}/privacy">Privacy Policy</a>
              </label>
              <span class="invalid-feedback">Please accept our Terms and Conditions.</span>
            </div>
            <div class="form-check mb-4">
              <input class="form-check-input auth-terms-input" type="checkbox" value="" id="termsCheckbox" required>
              <label class="form-check-label" for="termsCheckbox">
                I accept the <a href="{{ site.url }}/terms">Terms and Conditions</a>
              </label>
              <span class="invalid-feedback">Please accept our Terms and Conditions.</span>
            </div>
            <!-- End Form Check -->

            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-primary btn-lg auth-signup-email-btn">Create an account</button>

              <!-- <button type="submit" class="btn btn-link">
                or Start your 30-day trial <i class="bu-chevron-right"></i>
              </button> -->
            </div>

            {% else %}
            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-primary btn-lg auth-signin-email-btn">Sign in</button>
            </div>
            {% endif %}


          </form>
          <!-- End Form -->
        </div>
      </div>
      <!-- End Card -->

      <!-- Footer -->
      <!-- <div class="position-relative text-center zi-1">
        <small class="text-cap text-body mb-4">Trusted by the world's best teams</small>

        <div class="w-85 mx-auto">
          <div class="row justify-content-between">
            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/gitlab-gray.svg" alt="Logo">
            </div>

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/fitbit-gray.svg" alt="Logo">
            </div>

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/flow-xo-gray.svg" alt="Logo">
            </div>

            <div class="col">
              <img class="img-fluid" src="./assets/svg/brands/layar-gray.svg" alt="Logo">
            </div>
          </div>
        </div>
      </div> -->
      <!-- End Footer -->
    </div>
  </div>
  <!-- End Content -->
</main>

<script type="text/javascript">
  var dom;
  var url;
  var serverApiURL;
  var providerDetails = {}
  var redirectIsValid = false;
  var redirectUrl;

  Manager.auth().ready(function () {
    dom = Manager.dom();
    var user = firebase.auth().currentUser;
    url = new URL(window.location.href);
    var action = false;
    // var serverApiURL = Manager.properties.meta.environment === 'development'
    serverApiURL = url.searchParams.get('development')
      ? 'http://localhost:5001/PROJECT_ID/us-central1/bm_api'
      : 'https://us-central1-PROJECT_ID.cloudfunctions.net/bm_api'

    redirectUrl = decodeURIComponent(url.searchParams.get('destination') || '{{ site.url }}');
    // console.log('--redirectUrl', redirectUrl);
    serverApiURL = serverApiURL.replace(/PROJECT_ID/g, Manager.properties.options.libraries.firebase_app.config.projectId)
    redirectIsValid = Manager.isValidRedirectUrl(redirectUrl)

    // console.log('---redirect', redirectIsValid, redirectUrl);

    firebase.auth()
      .getRedirectResult()
      .then(function (result) {
        console.log('----result', result);
        display();
        if (!action) {
          if (url.searchParams.get('signout')) {
            console.log('----SIGNOUT');
            action = true;
            firebase.auth().signOut()
            .catch(function (e) {
              console.error('Error signing out', e);
              display(e);
            })
            .finally(function () {
              url.searchParams.delete('signout')
              console.log('----nav to', url.toString());
              window.location.href = url.toString();
            })
          } else {
            if (result && result.user) {
              createCustomToken({user: result.user})
            } else {
              action = true;
              console.log('----READY');
              var prodiver = url.searchParams.get('provider');
              if (prodiver) {
                firebase.auth().signInWithRedirect(new firebase.auth.OAuthProvider(provider))
                .catch(function (e) {
                  display(e);
                })
              } else {

                // Get provider details
                fetch(serverApiURL, {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({
                    command: 'firebase:get-providers',
                    payload: {
                      firebaseApiKey: Manager.properties.options.libraries.firebase_app.config.apiKey,
                    },
                  }),
                })
                .then(function (res) { // This function runs only on success
                  if (res.ok) {
                    res.json()
                    .then(function (data) {
                      console.log('Success', data);
                      providerDetails = data;
                      firebase.auth().onAuthStateChanged(function (user) {
                        if (user) {
                          display('hide');
                          createCustomToken({user: user})
                        }
                      })
                      display('waiting')
                    })
                  } else {
                    return res.text()
                    .then(function (data) {
                      throw new Error(data || res.statusText || 'Unknown error.')
                    })
                  }
                })
                .catch(function (e) { // This function runs only on error
                  console.error('Fail', e);
                  display(e);
                })

              }
            }
          }
        }
      })
      .catch(function (e) {
        console.error('----e', e);
        display(e);
      });



    console.log('----FIRST', url.toString());
    console.log('----user', user);




    /*
      firebase.auth().signInWithRedirect(new firebase.auth.OAuthProvider('google.com'))
      http://localhost:4000/authentication/oauth/?provider=google.com&signout=true&development=true
    */

    document.addEventListener('click', function (event) {
      if (event.target.matches('#relaunch-btn')) {
        display('hidden');
        launch();
      }
    })


  })

  function signUpHandler(token) {
    return new Promise(function(resolve, reject) {
      setTimeout(function () {
        return resolve();
      }, 3000);
      if (url.searchParams.get('isSignup') !== 'true') {
        return resolve();
      }
      fetch(serverApiURL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          authenticationToken: token,
          command: 'user:sign-up',
          payload: {
            newsletterSignUp: url.searchParams.get('newsletter') === 'true',
            affiliateCode: url.searchParams.get('affiliateCode'),
          }
        }),
      })
      .catch(function (e) {
        console.log('Fail', e);
      })
      .finally(function () {
        return resolve();
      })
    });
  }

  function launch() {
    // if (url.searchParams.get('inApp') === 'true' && window.electronManager) {
    if (window.electronManager) {
      window.electronManager().processCustomToken(window.tokenResult);
    } else {
      // console.log('--window.tokenResult', window.tokenResult);
      redirectUrl = new URL(redirectUrl);
      redirectUrl.searchParams.set('payload', JSON.stringify({
        token: window.tokenResult
      }))
      redirectUrl = redirectUrl.toString();

      if (!redirectIsValid) {
        var invalidError = new Error('This URL is not valid: ' + redirectUrl)
        if (Manager.properties.meta.environment === 'development') {
          console.error(invalidError);
        } else {
          display(invalidError)
          return
        }
      }

      setTimeout(function () {
        display('success', 'Success! Please allow this webpage to open the {{ site.brand.name }} app. <br><br> After you are logged in, you can close this tab.')
      }, 1000);
      // console.log('----redirectUrl', redirectUrl);
      // window.location.href = 'somiibo://dashboard?signin-with-token=true&token=' + window.tokenResult;
      window.location.href = redirectUrl;
    }
  }

  function createCustomToken(payload) {
    payload.user.getIdToken(false)
    .then(function (token) {
      console.log('---token', token);
      signUpHandler(token)
      .then(function () {
        fetch(serverApiURL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            command: 'user:create-custom-token',
            authenticationToken: token,
          }),
        })
        .then(function (res) { // This function runs only on success
          if (res.status >= 200 && res.status < 300) {
            res.json()
            .then(function (data) {
              console.log('Success', data);
              window.tokenResult = data.token;
              launch();
            })
          } else {
            return res.text()
            .then(function (data) {
              throw new Error(data || res.statusText || 'Unknown error.')
            })
          }
        })
        .catch(function (e) { // This function runs only on error
          console.error('Fail', e);
          display(e);
        })
      })
    })
  }
  window.createCustomToken = createCustomToken;

  function display(type, msg) {
    var alertEl = dom.select('#result')
    var spinnerEl = dom.select('#spinner')
    var resendBtn = dom.select('#relaunch-btn')
    var authContainer = dom.select('#auth-container')
    var providerBtnEl = dom.select('a[data-provider]')
    var emailAndPassForm = dom.select('#email-and-password-form')
    var authOrSeparatorEl = dom.select('#auth-or-separator')

    alertEl
      .setAttribute('hidden', true)
      .removeClass('alert-danger')
      .removeClass('alert-success')
    spinnerEl
      .removeAttribute('hidden')
    resendBtn
      .setAttribute('hidden', true)
    authContainer
      .removeAttribute('hidden')

    if (type && type !== 'hidden') {
      alertEl.removeAttribute('hidden')
    }

    providerBtnEl
      .setAttribute('hidden', true)
      .setAttribute('disabled', true)
      .removeClass('disabled')

    emailAndPassForm
      .setAttribute('hidden', true)
      .setAttribute('disabled', true)
      .removeClass('disabled')

    authOrSeparatorEl
      .setAttribute('hidden', true)

    if (type === 'waiting') {
      spinnerEl
        .setAttribute('hidden', true)

      providerBtnEl
      .each(function (el) {
        var provider = el.dataset.provider;
        // console.log('===provider', provider, providerDetails[provider]);
        if (providerDetails[provider]) {
          el.removeAttribute('hidden');
          el.removeAttribute('disabled');
          el.classList.remove('disabled');
        } else {
          el.setAttribute('hidden', true);
          el.setAttribute('disabled', true);
          el.classList.add('disabled');
        }
      })

      emailAndPassForm
        .removeAttribute('hidden')
        .removeAttribute('disabled')
        .removeClass('disabled')

      authOrSeparatorEl
        .removeAttribute('hidden');

      alertEl
        .setAttribute('hidden', true)

    } else if (type instanceof Error) {
      alertEl
        .addClass('alert-danger')
        .setInnerHTML('Failed to sign you in. Please try again: <br><br>' + type)
      spinnerEl
        .setAttribute('hidden', true)
      // console.error(type);
    } else if (type === 'success' || type === 'hide') {
      if (type === 'success') {
        alertEl
          .addClass('alert-success')
          .setInnerHTML(msg || 'Success! Redirecting you...')
        spinnerEl
          .setAttribute('hidden', true)
        resendBtn
          .removeAttribute('hidden')
      }

      authContainer
        .setAttribute('hidden', true)
    }
  }

</script>
