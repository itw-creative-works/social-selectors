<!DOCTYPE html>
<html lang="en"  >
  <head>
    <!-- Head -->


<!-- Prefetch -->
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">

<!-- Meta -->
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, minimum-scale=1, maximum-scale=5"> --> <!-- DISABLED 4/8/23 to prevent auto-zooming on text fields -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no">

<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="generator" content="Ultimate Jekyll">

<!-- Canonical -->
<link rel="canonical" href="https://social-selectors.itwcreativeworks.com/admin/posts/create">

<!-- Robots --><meta name="robots" content="noindex">


<!-- Keywords --><!-- Manifest.json -->
<link rel="manifest" href="https://social-selectors.itwcreativeworks.com/manifest.json">

<!-- Title --><title>Create Post</title>
<meta name="twitter:title" content="Create Post">
<meta property="og:title" content="Create Post">

<!-- Description --><meta name="description" content="Create blog posts with ease, including the beautiful markdown editor StackEdit.">
<meta name="twitter:description" content="Create blog posts with ease, including the beautiful markdown editor StackEdit.">
<meta property="og:description" content="Create blog posts with ease, including the beautiful markdown editor StackEdit.">

<!-- Image --><meta name="twitter:image" content="https://cdn.itwcreativeworks.com/assets/itw-creative-works/images/socials/itw-creative-works-brandmark-square-black-1024x1024.png">
<meta property="og:image" content="https://cdn.itwcreativeworks.com/assets/itw-creative-works/images/socials/itw-creative-works-brandmark-square-black-1024x1024.png">

<!-- OG: Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@">
<meta name="twitter:widgets:theme" content="light">

<!-- OG: Facebook / Open Graph -->
<meta property="og:url" content="https://social-selectors.itwcreativeworks.com/admin/posts/create"><meta property="og:type" content="website">

<!-- Main Feed -->
<link href="https://social-selectors.itwcreativeworks.com/feeds/posts.xml" type="application/atom+xml" rel="alternate" title="ITW Creative Works Feed">

<!-- Language Tags -->
<link rel="alternate" href="https://social-selectors.itwcreativeworks.com/admin/posts/create" hreflang="x-default">
<link rel="alternate" href="https://social-selectors.itwcreativeworks.com/admin/posts/create" hreflang="en">
<!-- <link rel="alternate" href="https://social-selectors.itwcreativeworks.com/es//admin/posts/create" hreflang="es"> -->

<!-- Performance Metrics -->


<!-- Configuration -->
<script type="text/javascript">
  

  var Configuration = {
    page: {
      code: 'Create',
      type: 'general',
      breadcrumb: 'Create',
      settings:  { auth: { state: 'required', sends: { required: '/signin', prohibited: '/admin/dashboard', } }, libraries: { cookieconsent: { enabled: false, }, chatsy: { enabled: false, }, sentry: { enabled: false, } }, exitPopup: { enabled: false, }, } 
    },
    global: {
      app: 'itw-creative-works',
      version: '1.0.0',
      url: 'https://social-selectors.itwcreativeworks.com',
      buildTime: '1725149950',
      cacheBreaker: '1725149950',
      settings:  { libraries: { firebase_app: { enabled: true, config: { apiKey: 'AIzaSyBJ01RMI3nxH6SZfu_foH6RTrvdtYI02vw', authDomain: 'itwcreativeworks.com', databaseURL: 'https://itw-creative-works.firebaseio.com', projectId: 'itw-creative-works', storageBucket: 'itw-creative-works.appspot.com', messagingSenderId: '297826993241', appId: '1:297826993241:web:364271e108ff54fe419d48', measurementId: 'G-067TDQEC7P', }, }, firebase_appCheck: { enabled: false, config: { siteKey: '6LdkIDsoAAAAAHtfjiYV4dWo0SakIztDSyEVgKRZ', }, }, cookieconsent: { enabled: true, config: { palette: { popup: { background: '#237afc', text: '#fff', }, button: { background: '#fff', text: '#237afc', }, }, }, }, chatsy: { enabled: true, config: { accountId: 'fdxPPAHhHIU5mQPJXLZqcyAo0xt1', chatId: '8YIsRlzAAiv03d', settings: { openChatButton: { background: '#237afc', text: '#fff', }, }, }, }, sentry: { enabled: true, config: { dsn: '', release: 'itwcw-website-social-selectors', replaysSessionSampleRate: 0.01, replaysOnErrorSampleRate: 0.01, }, }, }, exitPopup: { enabled: false, config: { timeout: 1000 * 60 * 60 * 4, handler: null, title: 'Special Offer!', message: 'Get 15% off your purchase of our <strong>Premium plans</strong>. <br><br> Get access to all features and unlimited usage.', okButton: { text: 'Claim 15% Discount', link: '/pricing?utm_source=exit-popup&utm_medium=popup&utm_campaign={pathname}', }, }, }, } ,
      brand: {
        name: 'ITW Creative Works',
      },
      contact: {
        emailSupport: 'support@example.com',
        emailBusiness: 'hello@example.com',
      },
      download: {
        windows: '',
        mac: '',
        linuxDebian: '',
        linuxSnap: '',
        ios: '',
        android: '',
      },
      extension: {
        chrome: '',
        firefox: '',
        opera: '',
        safari: '',
        edge: '',
      },
      tracking: {
        googleAnalytics: 'false',
        facebookPixel: 'false',
        tikTokPixel: 'false',
      },
      validRedirectHosts: ['itwcreativeworks.com'],
    }
  };
</script>

<!-- Favicon --><link rel="apple-touch-icon" sizes="180x180" href="https://social-selectors.itwcreativeworks.com/assets/images/favicon/apple-touch-icon.png?cb=1725149950">
<link rel="icon" type="image/png" sizes="32x32" href="https://social-selectors.itwcreativeworks.com/assets/images/favicon/favicon-32x32.png?cb=1725149950">
<link rel="icon" type="image/png" sizes="16x16" href="https://social-selectors.itwcreativeworks.com/assets/images/favicon/favicon-16x16.png?cb=1725149950">
<link rel="mask-icon" href="https://social-selectors.itwcreativeworks.com/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="https://social-selectors.itwcreativeworks.com/assets/images/favicon/favicon.ico?cb=1725149950">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="https://social-selectors.itwcreativeworks.com/assets/images/favicon/browserconfig.xml?cb=1725149950">
<meta name="theme-color" content="#ffffff">

<!-- CSS - Defaults-->
<style type="text/css" media="screen">
  
  
  /*! defaults.css v1.0.0 | MIT License | ITW Creative Works */
@font-face {
  font-display: auto;
}

/* Test if the sheet is loading */
/* .test-red {
  color: red;
  background-color: red;
} */

/* Properly hide things */
.hidden, [hidden] {
  display: none;
}

/* Pointer events - can help fix bubbling issues for click listeners */
.pointer-none {
  pointer-events: none;
}

/* API styles */
.auth-signin-provider-btn * {
  pointer-events: none;
}

article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
  display: block;
}

/* Simple Animations */
.animation-slide-up {
  animation: slide-up 1s ease;
}
@keyframes slide-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animation-fade-in {
  animation: fade-in 1s ease;
}
@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.animation-fade-out {
  animation: fade-out 1s ease;
}
@keyframes fade-out {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

.animation-hover-up:hover {
  -moz-transform: translate(0,-8px);
  -o-transform: translate(0,-8px);
  -ms-transform: translate(0,-8px);
  -webkit-transform: translate(0,-8px);
  transform: translateY(-8px);
}
.animation-hover-up {
  -webkit-transition: all .3s cubic-bezier(.2,.3,0,1);
  -moz-transition: all .3s cubic-bezier(.2,.3,0,1);
  -ms-transition: all .3s cubic-bezier(.2,.3,0,1);
  -o-transition: all .3s cubic-bezier(.2,.3,0,1);
  transition: all .3s cubic-bezier(.2,.3,0,1);
}

/* @keyframes opacity {
	0% {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

.animation-opacity {
	animation: opacity .25s ease-in-out;
}

@keyframes opacity-long {
	0% {
		opacity: 0;
	}

	90% {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

.animation-opacity-long {
	animation: opacity-long 3s ease-in-out;
}

@keyframes opacity-short {
	0% {
		opacity: 0;
	}

	80% {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

.animation-opacity-short {
	animation: opacity-short 1.5s ease-in-out;
} */

@keyframes popup {
	0% {
		transform: scale(.93);
		opacity: .8;
	}

	50% {
		transform: scale(1.02);
		opacity: 1;
	}

	to {
		transform: scale(1);
		opacity: 1;
	}
}

.animation-popup {
	animation: popup .25s ease-in-out;
}

@keyframes popup-long {
	0% {
		transform: scale(.93);
		opacity: 0;
	}

	85% {
		transform: scale(.93);
		opacity: 0;
	}

	90% {
		transform: scale(.93);
		opacity: .8;
	}

	95% {
		transform: scale(1.02);
		opacity: 1;
	}

	to {
		transform: scale(1);
		opacity: 1;
	}
}

.animation-popup-long {
	animation: popup-long 3s ease-in-out
}

@keyframes popup-short {
	0% {
		transform: scale(.93);
		opacity: 0;
	}

	75% {
		transform: scale(.93);
		opacity: 0;
	}

	80% {
		transform: scale(.93);
		opacity: .8;
	}

	90% {
		transform: scale(1.02);
		opacity: 1;
	}

	to {
		transform: scale(1);
		opacity: 1;
	}
}

.animation-popup-short {
	animation: popup-short 1.5s ease-in-out;
}

@keyframes pulse {
	50% {
		opacity: .5;
	}
}

.animation-pulse {
	animation: pulse 2s cubic-bezier(.4, 0, .6, 1) infinite;
}

@keyframes shimmer {
	0% {
		background-position: 0 50%;
	}

	50% {
		background-position: 100% 50%;
	}

	to {
		background-position: 0 50%;
	}
}

.animation-shimmer {
	animation: shimmer 3s ease-out infinite alternate;
}

@keyframes wiggle {
	0%,
	20%,
	80%,
	to {
		transform: rotate(0deg);
	}

	30%,
	60% {
		transform: rotate(-2deg);
	}

	40%,
	70% {
		transform: rotate(2deg);
	}

	45% {
		transform: rotate(-4deg);
	}

	55% {
		transform: rotate(4deg);
	}
}

.animation-wiggle {
	animation: wiggle 1.5s ease-in-out infinite;
}

  

  .cc-window{opacity:1;transition:opacity 1s ease}.cc-window.cc-invisible{opacity:0}.cc-animate.cc-revoke{transition:transform 1s ease}.cc-animate.cc-revoke.cc-top{transform:translateY(-2em)}.cc-animate.cc-revoke.cc-bottom{transform:translateY(2em)}.cc-animate.cc-revoke.cc-active.cc-bottom,.cc-animate.cc-revoke.cc-active.cc-top,.cc-revoke:hover{transform:translateY(0)}.cc-grower{max-height:0;overflow:hidden;transition:max-height 1s}
.cc-link,.cc-revoke:hover{text-decoration:underline}.cc-revoke,.cc-window{position:fixed;overflow:hidden;box-sizing:border-box;font-family:Helvetica,Calibri,Arial,sans-serif;font-size:16px;line-height:1.5em;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;z-index:9999}.cc-window.cc-static{position:static}.cc-window.cc-floating{padding:2em;max-width:24em;-ms-flex-direction:column;flex-direction:column}.cc-window.cc-banner{padding:1em 1.8em;width:100%;-ms-flex-direction:row;flex-direction:row}.cc-revoke{padding:.5em}.cc-header{font-size:18px;font-weight:700}.cc-btn,.cc-close,.cc-link,.cc-revoke{cursor:pointer}.cc-link{opacity:.8;display:inline-block;padding:.2em}.cc-link:hover{opacity:1}.cc-link:active,.cc-link:visited{color:initial}.cc-btn{display:block;padding:.4em .8em;font-size:.9em;font-weight:700;border-width:2px;border-style:solid;text-align:center;white-space:nowrap}.cc-highlight .cc-btn:first-child{background-color:transparent;border-color:transparent}.cc-highlight .cc-btn:first-child:focus,.cc-highlight .cc-btn:first-child:hover{background-color:transparent;text-decoration:underline}.cc-close{display:block;position:absolute;top:.5em;right:.5em;font-size:1.6em;opacity:.9;line-height:.75}.cc-close:focus,.cc-close:hover{opacity:1}
.cc-revoke.cc-top{top:0;left:3em;border-bottom-left-radius:.5em;border-bottom-right-radius:.5em}.cc-revoke.cc-bottom{bottom:0;left:3em;border-top-left-radius:.5em;border-top-right-radius:.5em}.cc-revoke.cc-left{left:3em;right:unset}.cc-revoke.cc-right{right:3em;left:unset}.cc-top{top:1em}.cc-left{left:1em}.cc-right{right:1em}.cc-bottom{bottom:1em}.cc-floating>.cc-link{margin-bottom:1em}.cc-floating .cc-message{display:block;margin-bottom:1em}.cc-window.cc-floating .cc-compliance{-ms-flex:1 0 auto;flex:1 0 auto}.cc-window.cc-banner{-ms-flex-align:center;align-items:center}.cc-banner.cc-top{left:0;right:0;top:0}.cc-banner.cc-bottom{left:0;right:0;bottom:0}.cc-banner .cc-message{display:block;-ms-flex:1 1 auto;flex:1 1 auto;max-width:100%;margin-right:1em}.cc-compliance{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:justify;align-content:space-between}.cc-floating .cc-compliance>.cc-btn{-ms-flex:1;flex:1}.cc-btn+.cc-btn{margin-left:.5em}
@media print{.cc-revoke,.cc-window{display:none}}@media screen and (max-width:900px){.cc-btn{white-space:normal}}@media screen and (max-width:414px) and (orientation:portrait),screen and (max-width:736px) and (orientation:landscape){.cc-window.cc-top{top:0}.cc-window.cc-bottom{bottom:0}.cc-window.cc-banner,.cc-window.cc-floating,.cc-window.cc-left,.cc-window.cc-right{left:0;right:0}.cc-window.cc-banner{-ms-flex-direction:column;flex-direction:column}.cc-window.cc-banner .cc-compliance{-ms-flex:1 1 auto;flex:1 1 auto}.cc-window.cc-floating{max-width:none}.cc-window .cc-message{margin-bottom:1em}.cc-window.cc-banner{-ms-flex-align:unset;align-items:unset}.cc-window.cc-banner .cc-message{margin-right:0}}
.cc-floating.cc-theme-classic{padding:1.2em;border-radius:5px}.cc-floating.cc-type-info.cc-theme-classic .cc-compliance{text-align:center;display:inline;-ms-flex:none;flex:none}.cc-theme-classic .cc-btn{border-radius:5px}.cc-theme-classic .cc-btn:last-child{min-width:140px}.cc-floating.cc-type-info.cc-theme-classic .cc-btn{display:inline-block}
.cc-theme-edgeless.cc-window{padding:0}.cc-floating.cc-theme-edgeless .cc-message{margin:2em 2em 1.5em}.cc-banner.cc-theme-edgeless .cc-btn{margin:0;padding:.8em 1.8em;height:100%}.cc-banner.cc-theme-edgeless .cc-message{margin-left:1em}.cc-floating.cc-theme-edgeless .cc-btn+.cc-btn{margin-left:0}

</style>

<!-- CSS - Social Share Kit Style -->


<!-- App - Head Content (pre-bundle) -->
  <!-- App Head Content (pre-bundle) -->


<!-- CSS - Bundle-->
 <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<!-- CSS Implementing Plugins --> <link rel="stylesheet" href="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/bootstrap-icons/font/bootstrap-icons.css">
<!-- CSS Front Template -->
<link rel="stylesheet" href="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/css/theme.min.css" data-hs-appearance="default"> <link rel="preload" href="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/css/theme-dark.min.css" data-hs-appearance="dark" as="style">
<style data-hs-appearance-onload-styles> * { transition: unset !important; }
/* body { opacity: 0; } */ </style> <style media="screen"> /* Custom colors */ .bg-purple { --bs-bg-opacity: 1; background-color: rgb(155, 89, 182, 1)!important; } .text-purple { color: rgb(155, 89, 182, 1)!important; } .bg-soft-purple { background-color: rgba(155, 89, 182, 0.1)!important; } .table-responsive.datatable-custom { min-height: 300px; } /* badge bg-soft-danger bg-danger text-danger */ </style> 


<!-- HTML5 Shiv -->
  <!--[if lt IE 9]>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
  <![endif]-->


<!-- Initialize Manager -->
<script type="text/javascript">
  // Performance
  try {
    window.performance.mark('manager_start');
  } catch (e) {}

  function Manager$() {
    this.properties = {};
  };

  Manager$.prototype.ready = function(fn, options) {
    options = options || {};

    setTimeout(function () {
      Manager.ready(fn, options);
    }, options.interval || 100);
  }

  Manager$.prototype.auth = function() {
    return {
      ready: function (fn, options) {
        options = options || {};

        setTimeout(function () {
          Manager.auth().ready(fn, options);
        }, options.interval || 100);

      }
    }
  }

  // Initialize globals
  var Manager = new Manager$();
  // var firebase;
  var Libraries = {
    // app: undefined,
    // lazysizes: undefined,
    // cookieconsent: undefined,
  };

</script>

<!-- Add DEV click -->

<!-- Master - Styles -->
<style media="screen">
  /* Alert box */
  .master-alert {
    padding: 20px;
    color: white;
    left: 0;
    /* 100 because modals are 101 and we want these below the modals */
    /* z-index: 100; */
    /* 1060 because some headers (like studymonkey) are set high */
    z-index: 1060;
    width: 100%;
  }

  .master-alert-top {
    top: 0;
  }

  .master-alert-bottom {
    bottom: 0;
  }

  .master-alert-fixed {
    position: fixed;
  }

  .master-alert-block {
  }

  .master-alert a {
    color: white;
    text-decoration: underline;
  }
  .master-alert a:hover {
    color: black;
  }

  .master-alert-close {
    margin-left: 15px;
    color: white;
    font-weight: bold;
    float: right;
    font-size: 22px;
    line-height: 20px;
    cursor: pointer;
    transition: 0.3s;
  }

  .master-alert-close:hover {
    color: black;
  }

  .master-alert-outdated {
    background-color: #f44336;
  }

  .master-alert-suspended {
    background-color: #f44336;
  }

  .master-alert-sale {
    background-color: #0d6efd;
  }

  /* Chat box opener */
  #prechat-btn {
    position: fixed;
    background: #237AFC;
    color: #fff;
    width: 60px;
    height: 60px;
    text-align: center;
    line-height: 1;
    border-radius: 50%;
    right: 20px;
    bottom: 20px;
    transition: background 0.5s;
    z-index: 11;
    box-shadow: rgba(0, 0, 0, 0.16) 0px 2px 10px 0px;
  }

  #prechat-btn svg {
    color: #fff;
    width: 50%;
    opacity: 1.0;
    pointer-events: none;
  }
  #prechat-btn {
    transition: transform 167ms cubic-bezier(0.33, 0, 0, 1) 0s;
    transform-origin: center center;
  }

  #prechat-btn:hover {
    transition: transform 250ms cubic-bezier(0.33, 0, 0, 1) 0s;
    transform: scale(1.1);
  }

  #prechat-btn:active {
    transform: scale(0.85);
    transition: transform 134ms cubic-bezier(0.45, 0, 0.2, 1) 0s;
  }

  @media (max-width: 768px) {
    #prechat-btn {
      bottom: 15px;
    }
  }
</style>

<!-- Style - IE 9 and Below Only -->
<!--[if lte IE 9]>
<link rel="stylesheet" type="text/css" href="/assets/css/master/lte-ie9.css?cb=1725149950">
<![endif]-->

<!-- Style - Scripts are Disabled -->
<noscript>
  <style media="screen">
    .master-alert-outdated {
      display: block !important;
    }
  </style>
</noscript>

<!-- Alerts -->
<!-- Master - Outdated Alert Box -->
<div
  class="master-alert master-alert-top master-alert-fixed master-alert-outdated bg-danger animation-fade-in"
  role="alert" aria-live="polite" aria-label="Outdated browser"
  hidden>
  <span class="master-alert-close">&times;</span>
  <div>
    <i class="fa-solid fa-warning fa-bounce me-2"></i>
    You are using an outdated browser that our site <strong>DOES NOT</strong> support. Please <a href="https://www.google.com/chrome" rel="nofollow" target="_blank">click here</a> to update your browser.
  </div>
</div>
<div
  class="master-alert master-alert-top master-alert-fixed master-alert-suspended bg-danger animation-fade-in"
  role="alert" aria-live="polite" aria-label="Payment method issue"
  hidden>
  <span class="master-alert-close">&times;</span>
  <div>
    <i class="fa-solid fa-warning fa-bounce me-2"></i>
    There is a <strong>problem with your payment method</strong>. To continue using <strong>ITW Creative Works</strong>, please <a href="https://social-selectors.itwcreativeworks.com/account#billing" target="_blank">update your payment method</a>.
  </div>
</div>
<div
  class="master-alert master-alert-top master-alert-fixed master-alert-sale bg-primary animation-fade-in"
  role="alert" aria-live="polite" aria-label="Flash sale"
  hidden>
  <span class="master-alert-close">&times;</span>
  <div>
    <i class="fa-solid fa-stopwatch fa-beat me-2"></i>
    <strong>FLASH SALE!</strong>
    Save <strong>15%</strong> at checkoutâ€”today only! <a href="https://social-selectors.itwcreativeworks.com/pricing" target="_blank">Claim discount</a>.
  </div>
</div>

<!-- App - Head Content -->


<!-- Page - Injected head -->


</head>

  <body class=" "  >

    <!-- Header -->
    

    <!-- Content -->
    <script>
	// var
  var defaultTableId = '#datatable-table';

	function Admin() {
		return {
			initializeTable: function(options) {
				options = options || {};
				options.selector = options.selector || defaultTableId;
				options.inlineOptions = options.inlineOptions || {
					"columnDefs": [{
						"targets": [0],
						"orderable": false
					}],
					"order": [],
					// "search": "#datatable-search-input",
					"isResponsive": false,
					"isShowPaging": false,
					"pagination": "datatable-pagination"
				}

				var element = document.querySelector(options.selector)
				var $element = $(options.selector);

				element.setAttribute('data-hs-datatables-options', JSON.stringify(options.inlineOptions))

        // if ($.fn.dataTable.isDataTable(options.selector)) {
        //   $element.DataTable().clear();
        //   $element.DataTable().destroy();
        //   // $element.empty();
        //   // getData.offSet = undefined;  // necssary to set the static value to undefined so that the offset is valid during initial runs
        //   // re Add CSS to table
        //   // $element.addClass("usa-table views-table views-view-table cols-8 sticky-enabled sticky-table");
        //   // $element.css("width","100%")
        // }

				HSCore.components.HSDatatables.init($element, {
          destroy: true,
					select: {
						style: 'multi',
						selector: 'td:first-child input[type="checkbox"]',
						classMap: {
							checkAll: '#datatable-checkbox-select-all',
							counter: '#datatable-checkbox-select-counter-data',
							counterInfo: '#datatable-checkbox-select-counter'
						}
					},
					language: {
						zeroRecords: '<div class="text-center p-4"><p class="mb-0">No data to show</p></div>'
					}
				});

        return $element.DataTable();

        // console.log('---table 1', table);
        // console.log('---/table 2', HSCore.components.HSDatatables.getItem('datatable-table'));
				/* var datatable = HSCore.components.HSDatatables.getItem("datatable"); */
			},
      display: function (status, message) {
        var searchInput = document.getElementById('datatable-search-input')
        var searchForm = document.getElementById('datatable-search-form')
        var spinner = document.getElementById('datatable-spinner')

        var adminResultError = document.getElementById('admin-result-error');
        var adminResultSuccess = document.getElementById('admin-result-success');

        status = status || 'ready';
        message = message || 'Success';

        if (status instanceof Error) {
          console.error('Display', status, message);
        } else {
          console.log('Display', status, message);
        }

        if (adminResultError) {
          adminResultError.setAttribute('hidden', true);
        }
        if (adminResultSuccess) {
          adminResultSuccess.setAttribute('hidden', true);
        }

        if (status === 'ready') {
          if (searchInput) { searchInput.removeAttribute('readonly') }
          if (spinner) { spinner.setAttribute('hidden', true) }
        }

        if (status === 'loading') {
          if (searchInput) { searchInput.setAttribute('readonly', true) }
          if (spinner) { spinner.removeAttribute('hidden') }
        }

        if (status instanceof Error) {
          if (searchInput) { searchInput.removeAttribute('readonly') }
          if (spinner) { spinner.setAttribute('hidden', true) }

          if (adminResultError) {
            adminResultError.removeAttribute('hidden');
            var messageEl = adminResultError.querySelector('.admin-result-message');
            if (messageEl) {
              messageEl.innerHTML = status;
            }
          } else {
            alert(status)
          }
        }

        if (status === 'success') {
          if (searchInput) { searchInput.removeAttribute('readonly') }
          if (spinner) { spinner.setAttribute('hidden', true) }

          if (adminResultSuccess) {
            adminResultSuccess.removeAttribute('hidden');
            var messageEl = adminResultSuccess.querySelector('.admin-result-message');
            if (messageEl) {
              messageEl.innerHTML = message;
            }
          } else {
            alert(message || 'Successfully completed action')
          }
        }
      },
      elements: {
        toastCopy: new bootstrap.Toast(document.getElementById('toast-copy'), {})
      }
      // addTableRow: function (options) {
      //   options = options || {};
      //   options.selector = options.selector || defaultTableId;
      //   options.html = options.html || '';
      //
      //   var element = document.querySelector(options.selector)
			// 	var $element = $(options.selector);
      //   var table = $element.DataTable();
      //
      //   var factory = document.getElementById('table-row-creator');
      //   factory.insertAdjacentHTML('beforeend', options.html)
      //
      //
      //   console.log('---factory', factory);
      //   // table.row.add([
      //   //   `
      //   //   <td class="table-column-pe-0">
      //   //     <div class="form-check">
      //   //       <input type="checkbox" class="form-check-input" id="checkbox-{id}">
      //   //       <label class="form-check-label" for="checkbox-{id}"></label>
      //   //     </div>
      //   //   </td>
      //   //   `,
      //   //   1,
      //   //   'two',
      //   //   'three',
      //   //   4,
      //   // ])
      //   // .draw()
      //   // .node();
      // }
		}
	}
</script>

<main id="content" role="main" class="main">
  <!-- Content -->
  <div class="content container-fluid">

    <div class="row justify-content-center">
      <!-- <div class="col-12 col-lg-11 col-xl-10"> -->
      <div class="col-12">

        <div class="page-header">
          <div class="row align-items-center">
            <div class="col-sm mb-2 mb-sm-0">
              <h1 class="page-header-title">Create Post</h1>
              <nav aria-label="breadcrumb">
                <ol id="breadcrumbs-list" class="breadcrumb breadcrumb-no-gutter small">

                </ol>
                <script type="text/javascript">
                  Manager.ready(function () {
                    var breadcrumbs = document.getElementById('uj-breadcrumbs-json');
                    var breadcrumbsEl = document.getElementById('breadcrumbs-list');
                    var html = '';

                    function set(name, link) {
                      var base = '<li class="breadcrumb-item">{inside}</li>';
                      var href = '<a class="breadcrumb-link" href="{href}">{name}</a>';

                      // Capitilize first letter
                      name = name.charAt(0).toUpperCase() + name.slice(1);

                      if (link) {
                        base = base.replace(/{inside}/g, href)
                      }

                      base = base
                        .replace(/{inside}|{name}/g, name)
                        .replace(/{href}/g, link)

                      return base;
                    }

                    if (breadcrumbs) {
                      breadcrumbs = JSON.parse(breadcrumbs.innerText);
                      breadcrumbs.itemListElement
                      .forEach(function(item, i) {
                        var name = Manager.utilities().get(item, 'item.name');
                        var link = Manager.utilities().get(item, 'item.@id');
                        var isLast = i === breadcrumbs.itemListElement.length - 1;

                        if (name) {
                          html += set(name, isLast ? '' : link)
                        }
                      });

                      breadcrumbsEl.insertAdjacentHTML('beforeend', html)
                    }
                  })
                </script>
              </nav>
              <p class="page-header-text">Create blog posts with ease, including the beautiful markdown editor StackEdit.</p>
            </div><div class="col-sm-auto">
                 <a class="btn btn-soft-primary" href="#" data-bs-toggle="modal" data-bs-target="#importGoogleDoc"> <i class="bi-cloud-download me-1"></i> Import from Google Docs </a> 
              </div><!-- End Col -->
          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <textarea id="markdown-holder" name="name" rows="8" cols="80" hidden></textarea>

<div class="row loaded-false">
  <div class="col-lg-8 offset-lg-2">
    <div class="d-flex justify-content-center">
      <div class="spinner-border text-primary" role="status">
      </div>
    </div>
  </div>
</div>

<div class="loaded-true" hidden>
  <form class="" onsubmit="return false;" id="post-creator-form">
    <div class="row mb-3">
      <div class="col-12">
        <h3 class="header-title mb-3 d-flex justify-content-center align-items-center">
          Total posts: <span id="total-posts" class="ms-1">0</span>
        </h3>
      </div>

      <div class="col-12">
        <div id="previous-post-container">
          <h3 class="header-title mb-3 d-flex justify-content-between align-items-center">
            Previous Post
            <a class="btn btn-primary btn-sm btn-copy py-1" data-copy="#copy-main">Copy</a>
          </h3>

          <div class="row">
            <div class="col-12">
              <!-- <div class="alert alert-warning" role="alert">
                <strong>Holy guacamole!</strong> You should check in on some of those fields below.
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>               -->
              <div class="alert alert-soft-secondary">
                <div><strong>ID:</strong> <span id="previous-post-id">...</span> </div>
                <div><strong>URL:</strong> <span id="previous-post-url">...</span> </div>
                <div id="copy-main">
                  <div><strong>Slug:</strong> <span id="previous-post-slug">...</span> </div>
                  <div><strong>Invoice:</strong> <span id="previous-post-invoice">...</span> </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <hr class="">

    <div class="row mb-3">
      <div class="col-12">
        <div class="row">
          <div class="col-12">
            <h3 class="header-title mb-3">
              Post Details
            </h3>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="title" class="_form-label text-dark">Title</label>
              <small class="d-block _form-text text-muted">
                The title of the post: <code class="ml-1">My Post Title</code>
              </small>
              <div class="input-group">
                <input type="text" class="form-control" name="title" id="title" placeholder="My post title" aria-label="My post title">
                <span class="input-group-text">0</span>
              </div>

            </div>
            <!-- End Form -->
          </div>

          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="url" class="_form-label text-dark">URL Path</label>
              <small class="d-block _form-text text-muted">
                The URL of the post: <code class="ml-1">my-post-url</code>
              </small>
              <div class="input-group">
                <input type="text" class="form-control" name="url" id="url" placeholder="my-post-title" aria-label="my-post-title">
                <span class="input-group-text">0</span>
              </div>

            </div>
            <!-- End Form -->
          </div>
        </div>
        <!-- End Row -->

        <div class="row">
          <div class="col-sm-12">
            <!-- Form -->
            <div class="mb-4">
              <label for="layout" class="_form-label text-dark">Layout</label>
              <small class="d-block _form-text text-muted">
                Usually <code class="highlighter-rouge">app/blog/post</code> or <code class="highlighter-rouge">master/placeholder/blog/post</code>
              </small>
              <input type="text" class="form-control" name="layout" id="layout" placeholder="app/blog/post" aria-label="app/blog/post" value="app/blog/post">
            </div>
            <!-- End Form -->
          </div>
        </div>
        <!-- End Row -->

        <div class="row">
          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="date" class="_form-label text-dark">Date</label>
              <small class="d-block _form-text text-muted">
                The date of the post
              </small>
              <input type="date" class="form-control" name="date" id="date" placeholder="2019-12-04" aria-label="2019-12-04" required>
            </div>
            <!-- End Form -->
          </div>

          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="id" class="_form-label text-dark">ID</label>
              <small class="d-block _form-text text-muted">
                The id of the post
              </small>
              <input type="number" class="form-control" name="id" id="id" placeholder="10" aria-label="10">
            </div>
            <!-- End Form -->
          </div>
        </div>
        <!-- End Row -->

        <div class="row">

          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="author" class="_form-label text-dark">Author</label>
              <small class="d-block _form-text text-muted">
                Who wrote this beautiful piece of work?
              </small>

              <!-- Select -->
              <div class="tom-select-custom">
                <select class="js-select form-select" id="author" name="author">
                  <option value="">Select an author</option>
                </select>
              </div>
              <!-- End Select -->
            </div>
            <!-- End Form -->

          </div>

          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="affiliate" class="_form-label text-dark">Affiliate search term</label>
              <small class="d-block _form-text text-muted">
                This term is automatically applied to some ads
              </small>
              <input type="text" class="form-control" name="affiliate" id="affiliate" placeholder="Search term" aria-label="Search term">
            </div>
            <!-- End Form -->
          </div>

        </div>


        <div class="row">
          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="tags" class="_form-label text-dark">Tags</label>
              <small class="d-block _form-text text-muted">
                Comma separated tags
              </small>
              <input type="text" class="form-control" name="tags" id="tags" placeholder="Tag 1, Tag 2" aria-label="Tag 1, Tag 2">
            </div>
            <!-- End Form -->
          </div>

          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="categories" class="_form-label text-dark">Categories</label>
              <small class="d-block _form-text text-muted">
                Comma separated categories
              </small>
              <input type="text" class="form-control" name="categories" id="categories" placeholder="Category 1, Category 2" aria-label="Category 1, Category 2">
            </div>
            <!-- End Form -->
          </div>
        </div>
        <!-- End Row -->

        <div class="row">
          <div class="col-sm-12">
            <!-- Form -->
            <div class="mb-4">
              <label for="excerpt" class="text-dark">Excerpt</label>

              <div class="d-flex justify-content-between">
                <small class="text-muted">
                  Text preview of the post
                </small>
                <small class="text-muted word-and-character-count" data-count-source="#excerpt">(0 characters, 1 words)</small>
              </div>

              <textarea id="excerpt" name="excerpt" class="form-control" placeholder="My post preview" rows="4" spellcheck="true"></textarea>
            </div>
            <!-- End Form -->
          </div>

        </div>

        <div class="row">
          <div class="col-md-8 col-lg-9 col-xxl-10">
            <div>
              <!-- Form -->
              <div class="mb-4">
                <label for="headerImageURL" class="_form-label text-dark">Header Image URL</label>
                <small class="d-block _form-text text-muted">
                  Image preview of the post. Will be named the same as the title of the post
                </small>
                <input type="url" class="form-control" name="headerImageURL" id="headerImageURL" placeholder="https://unsplash.com/your-image" aria-label="https://unsplash.com/your-image" required>
              </div>
              <!-- End Form -->
            </div>
          </div>

          <div class="col-md-4 col-lg-3 col-xxl-2">
            <img class="img-fluid img-thumbnail mb-1" id="headerImageURLPreview" src="" alt="" style="min-width: 100%; min-height: 10px">
            <span id="preview-icon-error" class="text-danger" hidden>Error loading image...</span>
            <div id="unsplash-credits" hidden>
              Photo by <a id="unsplash-credits-artist" href="" target="_blank"></a> on <a id="unsplash-credits-website" href="https://unsplash.com?utm_source=ultimate-jekyll&utm_medium=referral" target="_blank">Unsplash</a>
            </div>
            <div>
              <input type="text" class="form-control mb-1" name="headerImageKeywords" id="headerImageKeywords" placeholder="business, tech" aria-label="business, tech">
              <a href="javascript:;" class="btn btn-lg btn-soft-primary w-100 me-3" id="randomize-preview-image">Get new image</a>
            </div>
          </div>

        </div>

      </div>
    </div>

    <hr class="">

    <div class="row mb-3">
      <div class="col-12">
        <div class="row">
          <div class="col-12">
            <h3 class="header-title mb-3">
              Post Content
            </h3>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <!-- Form -->
            <div class="mb-4">
              <label for="body" class="text-dark">Body</label>

              <div class="d-flex justify-content-between">
                <small class="text-muted">
                Text preview of the post
                </small>
                <small class="text-muted word-and-character-count" data-count-source="#body">(0 characters, 1 words)</small>
              </div>

              <textarea id="body" name="body" class="form-control" placeholder="My post content" rows="9" spellcheck="true"></textarea>
            </div>
            <!-- End Form -->
          </div>

          <div class="col-12">
            <div class="d-flex justify-content-between mt-3">
              <a href="" onclick="return false;" class="btn btn-lg btn-soft-primary w-100 me-3" id="stackedit-edit">Edit in StackEdit</a>
              <!-- <a href="" onclick="return false;" class="btn btn-lg btn-outline-secondary w-100" id="" data-bs-toggle="modal" data-bs-target="#importGoogleDoc">Import from Google Docs</a> -->
            </div>
          </div>
        </div>

      </div>
    </div>


    <hr class="">

    <div class="row mb-3">
      <div class="col-12">
        <div class="row">
          <div class="col-12">
            <h3 class="header-title mb-3">
              Advanced Options
            </h3>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <!-- Form -->
            <div class="mb-4">

              <label class="row form-check form-switch" for="enableReplaceImagesMarkdown">
                <span class="col-8 col-sm-9 ms-0">
                  <span class="text-dark">Replace image markdown with liquid tag</span>
                </span>
                <span class="col-4 col-sm-3 text-end">
                  <input type="checkbox" class="form-check-input" id="enableReplaceImagesMarkdown" name="enableReplaceImagesMarkdown" checked="true">
                </span>
              </label>

              <small class="d-block _form-text text-muted">
                Replace <code class="highlighter-rouge">[alt](url)</code> with <code class="highlighter-rouge">&#123;%- include /master/helpers/blog-image.html src="&#123;&#123;url&#125;&#125;" -%&#125;</code>
              </small>

            </div>
            <!-- End Form -->

            <!-- Form -->
            <div class="mb-4">
              <label for="replaceImagesIncludeTag" class="text-dark">Tags to replace with</label>

              <small class="d-block _form-text text-muted">
                Enter the tags to replace with. Blank = default.
              </small>
              <input type="text" class="form-control" name="replaceImagesIncludeTag" id="replaceImagesIncludeTag" placeholder="" aria-label="">
            </div>
            <!-- End Form -->

          </div>

          <div class="col-sm-12">
            <!-- Form -->
            <div class="mb-4">

              <label class="row form-check form-switch" for="includeLocalImagePath">
                <span class="col-8 col-sm-9 ms-0">
                  <span class="text-dark">Include image path before image tags</span>
                </span>
                <span class="col-4 col-sm-3 text-end">
                  <input type="checkbox" class="form-check-input" id="includeLocalImagePath" name="includeLocalImagePath" checked="true">
                </span>
              </label>

              <small class="d-block _form-text text-muted">
                Include the standard local image path <code class="highlighter-rouge">/assets/images/blog/posts/post-${id}/</code> in image tags
              </small>

            </div>

            <!-- Form -->
            <div class="mb-4">
              <label for="path" class="text-dark">Save path</label>

              <small class="d-block _form-text text-muted">
                Enter the Path of the post. Usually <code class="highlighter-rouge">./_posts/</code> or <code class="highlighter-rouge">./_posts/sub/dir/</code>
              </small>
              <input type="text" class="form-control" name="path" id="path" placeholder="./_posts/" aria-label="" value="./_posts/">
            </div>
            <!-- End Form -->

            <!-- End Form -->
          </div>

        </div>

        <div class="row">
          <div class="col-sm-12">
            <!-- Form -->
            <div class="mb-4">
              <label for="processingAddy" class="text-dark">Processing Address</label>
              <small class="d-block _form-text text-muted">
                What address to process the post at? If live, it will be comitted live. If local, it will be saved as a file locally.
              </small>

              <!-- Select -->
              <div class="tom-select-custom">
                <select class="js-select form-select" id="processingAddy" name="processingAddy" required>
                  <option id="processingAddy_none" value="">Select an address</option>
                  <option id="processingAddy_dev" value="">Development</option>
                  <option id="processingAddy_prod" value="">Production</option>
                  <option id="processingAddy_prodDev" value="">Production (dev)</option>
                </select>
              </div>
              <!-- End Select -->
            </div>
            <!-- End Form -->

          </div>
        </div>

      <!-- Body -->

      </div>
    </div>

    <hr class="">

    <div class="row mb-3">
      <div class="col-12">
        <div class="row">
          <div class="col-12">
            <h3 class="header-title mb-3">
              Notification Options
            </h3>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <!-- Form -->
            <div class="mb-4">

              <label class="row form-check form-switch" for="enableInvoice">
                <span class="col-8 col-sm-9 ms-0">
                  <span class="text-dark">Send post notification</span>
                </span>
                <span class="col-4 col-sm-3 text-end">
                  <input type="checkbox" class="form-check-input" id="sendNotification" name="sendNotification">
                </span>
              </label>

              <small class="d-block _form-text text-muted">
                Notify all subscribed users about your new post
              </small>

            </div>
            <!-- End Form -->

          </div>

        </div>

      </div>
    </div>


    <hr class="">

    <div class="row mb-3">
      <div class="col-12">
        <div class="row">
          <div class="col-12">
            <h3 class="header-title mb-3">
              Invoice Options
            </h3>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <!-- Form -->
            <div class="mb-4">

              <label class="row form-check form-switch" for="enableInvoice">
                <span class="col-8 col-sm-9 ms-0">
                  <span class="text-dark">Enable invoice options</span>
                </span>
                <span class="col-4 col-sm-3 text-end">
                  <input type="checkbox" class="form-check-input" id="enableInvoice" name="enableInvoice" checked="true">
                </span>
              </label>

              <small class="d-block _form-text text-muted">
                Automatically charge a PayPal invoice to any email
              </small>

            </div>
            <!-- End Form -->

          </div>

        </div>

        <div class="row" id="invoiceOptions">
          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="invoiceEmail" class="_form-label text-dark">Invoice email</label>
              <small class="d-block _form-text text-muted">
                Email that the invoice will be sent to
              </small>

              <input type="email" class="form-control" name="invoiceEmail" id="invoiceEmail" placeholder="payer@gmail.com" aria-label="payer@gmail.com">

            </div>
            <!-- End Form -->
          </div>

          <div class="col-sm-6">
            <!-- Form -->
            <div class="mb-4">
              <label for="invoicePrice" class="_form-label text-dark">Invoice price</label>
              <small class="d-block _form-text text-muted">
                Price of the invoice
              </small>

              <input type="number" class="form-control" name="invoicePrice" id="invoicePrice" placeholder="30" aria-label="30" min="5" step="1">

            </div>
            <!-- End Form -->
          </div>

          <div class="col-12">
            <!-- Form -->
            <div class="mb-4">
              <label for="invoiceNote" class="_form-label text-dark">Invoice note</label>
              <small class="d-block _form-text text-muted">
                Put company details of both parties here
              </small>

              <textarea type="email" class="form-control" name="invoiceNote" id="invoiceNote" rows="3" placeholder="ITW Creative Works" aria-label="ITW Creative Works"></textarea>

            </div>
            <!-- End Form -->
          </div>
        </div>

      </div>
    </div>


    <hr class="">

    <div class="row">

      <div class="col-12">

        <div id="response" hidden>
          <div class="my-3">
            <div class="alert alert-info" role="alert" hidden>
              <h4 class="alert-heading">Waiting...</h4>
              <p class="mb-0">Hold up</p>
              <!-- <hr>
              <p class="mb-0">Be sure to check it out on the main blog page (<a href="https://social-selectors.itwcreativeworks.com/blog">https://social-selectors.itwcreativeworks.com/blog</a>) to see if it looks good!</p>
              <p class="mb-0">Refreshing in <span id="refresh-timer">3</span> seconds.</p> -->
            </div>
            <div class="alert alert-success" role="alert" hidden>
              <h4 class="alert-heading">Well done!</h4>
              <p>Aww yeah, you successfully posted that amazing piece of work ;)</p>
              <hr>
              <p class="mb-0">Be sure to check it out on the main blog page (<a href="https://social-selectors.itwcreativeworks.com/blog">https://social-selectors.itwcreativeworks.com/blog</a>) to see if it looks good!</p>
              <p class="mb-0">Refreshing in <span id="refresh-timer">3</span> seconds.</p>
            </div>
            <div class="alert alert-danger" role="alert" hidden>
              <h4 class="alert-heading">Aw snap!</h4>
              <p class="mb-0">Something went wrong, please examine the error below:</p>
              <hr>
              <pre><code id="main-response-code" class="text-white">waiting...
              </code></pre>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="alert alert-warning" role="alert">
          <h4 class="alert-heading">Posting to ITW Creative Works</h4>
          <span>You are about to post this to <strong>ITW Creative Works</strong>, are you sure?</span>
        </div>
      </div>

      <div class="col-12">
        <button class="btn btn-primary btn-lg w-100" id="post-submit-btn" type="submit">Post to ITW Creative Works!</button>
      </div>
    </div>
  </form>
</div>


<div class="modal fade" id="importGoogleDoc" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content bg-lighter">
      <form id="google-doc-form" onsubmit="return false;" class="my-4">
        <div class="modal-body">

          <!-- Header -->
          <div class="row">
            <div class="col">

              <!-- Prettitle -->
              <h6 class="text-uppercase text-muted mb-3">
                <a href="#!" class="text-reset">Google Doc Import</a>
              </h6>

              <!-- Title -->
              <h2 class="mb-2">
                Import posts directly from Google Docs
              </h2>

            </div>
            <div class="col-auto">

              <!-- Close -->
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

            </div>
          </div> <!-- / .row -->

          <!-- Divider -->
          <hr class="my-4">

          <div class="col-12">
            <strong>Publish the doc</strong> by going to <code class="highlighter-rouge">File > Publish to the Web > Start publishing</code>
          </div>


          <div class="col-12">
            <div class="form-group">
              <label>
                Doc URL
              </label>
              <small class="d-block _form-text text-muted">
                Remember, the Doc must be published!
              </small>
              <div class="input-group input-group-merge mb-3">
                <input type="text" class="form-control" id="importUrl" name="importUrl" placeholder="https://docs.google.com/document/d/e/KEY123/pub" value="" required>
              </div>
            </div>
          </div>

          <div class="col-12">
            <div class="custom-control custom-checkbox table-checkbox">
              <input type="checkbox" class="custom-control-input auth-newsletter-input" id="replaceHeadings" name="replaceHeadings" checked="true">
              <label class="custom-control-label" for="replaceHeadings">
                Replace <code class="highlighter-rouge">&#45;&#45;&#45;</code> with <code class="highlighter-rouge">#</code>
              </label>
            </div>
          </div>

          <div class="col-12">
            <div id="google-doc-error" class="alert alert-danger" role="alert" hidden>
              <h4 class="alert-heading">Aw snap!</h4>
              <p>Something went wrong, please examine the error below:</p>
              <hr>
              <pre><code id="google-response-code">waiting...
              </code></pre>
            </div>
          </div>

        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary" id="import-btn">Import</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script> -->
<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script> -->

<script type="text/javascript">
  // fields
  var UNSPLASH_API_KEY = 'lWKjK_iq12b0DlVLVK8Dvazm7fkmNpq6Ai18N0lnwmI';
  var fields = {};
  var members = [];
  var publicSiteUrl = 'https://social-selectors.itwcreativeworks.com';

  
  

  // console.log('----total-posts', '7');
  // console.log('----LOOP TITLE', '');
  // console.log('----LOOP ID', '');
  // console.log('----', '1689222521');
  // console.log('----', parseInt('1689222521') || 1);
  fields = {
    // title: '',
    title: '',
    // url: '',
    url: '',
    // excerpt: '',
    excerpt: '',
    // id: (parseInt('1689222521 || 0') + 1) || 1,
    total: parseInt('7') || 0,
    id: Math.round(new Date().getTime() / 1000),
    author: 'alex',
    date: new Date().toISOString().split('T')[0] || '2023-01-07',
    affiliateSearchTerm: '',
    tags: ['business marketing',],
    categories: ['Marketing','Business',],
    replaceImagesIncludeTag: '{%- include /master/helpers/blog-image.html name="{name}" alt="{alt}" -%}',
  }


  // console.log('----post-test', '');

  members = ['alex',]

  // console.log('FIELDS', fields);
  // console.log('members', members);
</script>

<!-- Exploring the library -->
<script type="text/javascript">

  var navBlocked = false;
  var allowLeave = true;
  var stackEditElement = document.querySelector('#body');
  var stackedit;
  var turndownService;
  var dom;
  var siteUrl = window.location.protocol + '//' + window.location.host;
  var waitingTimeout;

  var buildFile = {};

  Manager.ready(function() {

    var lastPost = Manager.storage().get('admin.post') || {};

    console.log('Post storage', {jekyll: fields, storage: lastPost});

    // console.log('----lastPost.lastId', lastPost.lastId);

    if (lastPost.lastId) {
      Manager.dom().select('#previous-post-container').removeAttribute('hidden');
      Manager.dom().select('#previous-post-id').setInnerHTML(lastPost.lastId);
      // Manager.dom().select('#previous-post-id').setInnerHTML(Math.round(new Date().getTime() / 1000));
      Manager.dom().select('#previous-post-slug').setInnerHTML(lastPost.lastSlug);
      Manager.dom().select('#previous-post-invoice').setInnerHTML(lastPost.lastInvoice);
      Manager.dom().select('#previous-post-url').setInnerHTML(lastPost.lastUrl);
    }

    // console.log('----FINAL', fields.id);

    WonderfulFetch(siteUrl + '/@output/build/build.json', {
      method: 'GET',
      response: 'json',
    })
    .then(function (data) {
      var invoiceEmailEl = document.getElementById('invoiceEmail');

      console.log('Success', data);
      // Manager.dom().select('#result').setInnerHTML(res.status + '\n' + JSON.stringify(data, undefined, 2)); // Set setInnerHTML

      buildFile = data;
      dom = Manager.dom();
      blockNavigation();
      setupStackedit();
      setupForm();
      countChars();
      countCharactersAndWords();
      handleChangeEvent();
      // dom.select('#body').setValue()

      var newDropdownHTML = '<a class="dropdown-item disabled" href="#" disabled>None</a>';
      var invoiceDropdownEl = document.getElementById('invoiceEmailDropdownList');
      Manager.storage().get('admin.post.invoiceEmails', [])
      .forEach((item, i) => {
        if (item) {
          newDropdownHTML = '<a class="dropdown-item insert-invoice-email" href="#" data-invoice-email="' + item + '">' + item + '</a>';
        }
      });

      if (invoiceDropdownEl) {
        invoiceDropdownEl.insertAdjacentHTML('beforeend', newDropdownHTML)
      }

      // Manager.dom().select('#invoiceNote').setValue(Manager.storage().get('admin.post.invoiceNote', ''));

      dom.select('body').on('click', function(event) {
        // allowLeave = false;
        if (event.target.matches('#stackedit-edit')) {
          // Open the iframe
          stackedit.openFile({
            name: 'Filename', // with an optional filename
            content: {
              text: stackEditElement.value, // and the Markdown content.
            }
          });
        } else if (event.target.matches('#url-format-btn')) {
          event.preventDefault();
          triggerTitleChange('url')
        } else if (event.target.matches('.insert-invoice-email')) {
          event.preventDefault();
          invoiceEmailEl.value = event.target.dataset.invoiceEmail;
        } else if (event.target.matches('#randomize-preview-image')) {
          randomizeHeaderImage();
        } else if (event.target.matches('.btn-copy')) {
          Manager.utilities().clipboardCopy(document.querySelector(event.target.dataset.copy));
          Admin().elements.toastCopy.show();
        }
      });

      dom.select('body').on('change', function (event) {
        setTimeout(function () {
          countChars();
          countCharactersAndWords();
          handleChangeEvent()
        }, 1);
        allowLeave = false;
      });

      dom.select('body').on('keydown', function (event) {
        setTimeout(function () {
          countChars();
          countCharactersAndWords();
        }, 1);
        allowLeave = false;
      });

      dom.select('body').on('paste', function (event) {
        setTimeout(function () {
          countChars();
          countCharactersAndWords();
        }, 1);
        allowLeave = false;
      });

      dom.select('body').on('cut', function (event) {
        setTimeout(function () {
          countChars();
          countCharactersAndWords();
        }, 1);
        allowLeave = false;
      });

      dom.select('#post-creator-form').on('submit', function (event) {
        blockNavigation();
        displayWaiting();
        // var endpoint = 'https://social-selectors.itwcreativeworks.com/admin/post/create.json';
        var endpoint = dom.select('#processingAddy').getValue();
        var postHandlerEndpoint = 'https://us-central1-{projectId}.cloudfunctions.net/bm_api'
          .replace(/{projectId}/igm, Manager.properties.options.libraries.firebase_app.config.projectId)

        var token = '';
        firebase.auth().currentUser.getIdToken(true)
        .then(function(tkn) {
          token = tkn;

          var data = getFormData();

          data.postHandlerEndpoint = postHandlerEndpoint;

          Manager.log('#post-creator-form', endpoint, data);

          if (data.enableInvoice && (!data.invoiceEmail || !data.invoicePrice)) {
            displayError('If invoice is enabled then email and price must also be filled');
            return;
          }

          data.invoicePrice = parseInt(data.invoicePrice) + '.00';

          if (data.url !== encodeURIComponent(data.url)) {
            displayError('There is an unsafe character in your url: ' + data.url);
            return;
          }

          // Check for invalid things
          if (data.body.indexOf('[](') > -1) {
            var bodyLines = data.body.split('\n');
            var lineNum = 0;
            var colNum = 0;
            for (var i = 0; i < bodyLines.length; i++) {
              var tempIndex = bodyLines[i].indexOf('[](');
              if (tempIndex > -1) {
                lineNum = i + 1;
                colNum = tempIndex;
                break;
              }
            }
            displayError('There is an empty link tag or image tag at line ' + lineNum + ':' + colNum);
            return;
          }

          // Fix excerpt
          data.excerpt = data.excerpt
            // Remove double quotes
            .replace(/"/img, '\'')

          // Fix title
          data.title = data.title
            // Remove double quotes
            .replace(/"/img, '\'')

          if (data.excerpt.match(/\[*.\]\(/)) {
            displayError('There is a link or image in the excerpt');
            return;
          }

          var lastUrl = '/blog/' + data.url;
          Manager.storage().set('admin.post.lastId', data.id)
          Manager.storage().set('admin.post.lastSlug', lastUrl)
          Manager.storage().set('admin.post.lastUrl', publicSiteUrl + lastUrl)
          Manager.storage().set('admin.post.lastInvoice', 'Manual')

          var existingInvoiceEmails = Manager.storage().get('admin.post.invoiceEmails', []).filter(e => e !== data.invoiceEmail);
          existingInvoiceEmails.unshift(data.invoiceEmail);
          Manager.storage().set('admin.post.invoiceEmails', existingInvoiceEmails)
          Manager.storage().set('admin.post.invoiceNote', data.invoiceNote)

          triggerUnsplashDownload();

          WonderfulFetch(endpoint, {
            method: 'POST',
            response: 'json',
            body: {
              authenticationToken: token,
              command: 'admin:create-post',
              payload: data,
            },
          })
          .then(function (data) {
            console.log('Success', data, JSON.stringify(data));

            if (data.postHandler.success && data.postHandler.data.invoice && data.postHandler.data.invoice.success) {
              Manager.storage().set('admin.post.lastInvoice', data.postHandler.data.invoice.data.href)
            // } else {
              // Manager.storage().set('admin.post.lastInvoice', data.postHandler.data)
            }

            // Manager.dom().select('#result').setInnerHTML(res.status + '\n' + JSON.stringify(data, undefined, 2)); // Set setInnerHTML

            // console.log(one,two,three);
            displayError();

            window.refreshTimer = 2;
            allowLeave = true;

            setInterval(function () {
              Manager.log('Refreshing in...', window.refreshTimer);
              dom.select('#refresh-timer').setInnerHTML(window.refreshTimer);
              window.refreshTimer--;
              if (window.refreshTimer <= 0) {
                allowLeave = true;
                return window.location.reload(true);
              }
            }, 1000);
          })
          .catch(function (e) {
            console.error(e);
            displayError(e);
          })

        })
        .catch(function(e) {
          console.error(e);
          displayError('Failed to get firebase token: ' + e);
        })
      });

      function triggerTitleChange(source) {
        var urlEl = dom.select('#url');
        var titleEl = dom.select('#title');
        var val = source === 'url' ? urlEl.getValue() : titleEl.getValue();

        urlEl.setValue(
          val
          .toLowerCase()
          .trim()
          .replace(/\s/g, '-') // replace spaces with dashes
          .replace(/[^a-zA-Z0-9\u00C0-\u017F-]+/g, '') // remove non-alphanumeric characters except dashes
          .replace(/-+/g, '-') // if there are multiple dashes, replace with one
          .replace(/(^-|-$)/g, '') // remove dashes from end
        )
      }

      dom.select('#title').on('change', function(event) {
        setTimeout(function () {
          triggerTitleChange('title')
        }, 1);
      })

      dom.select('#title').on('keydown', function(event) {
        setTimeout(function () {
          triggerTitleChange('title')
        }, 1);
      })

      dom.select('#title').on('paste', function(event) {
        setTimeout(function () {
          triggerTitleChange('title')
        }, 1);
      })

      dom.select('#title').on('cut', function(event) {
        setTimeout(function () {
          triggerTitleChange('title')
        }, 1);
      })

      dom.select('#title').on('change', function(event) {
        setTimeout(function () {
          triggerTitleChange('title')
        }, 1);
      })

      dom.select('#url').on('blur', function(event) {
        setTimeout(function () {
          triggerTitleChange('url')
        }, 1);
      })

      //
      dom.select('#headerImageURL').on('keydown', function(event) {
        setTimeout(function () {
          setHeaderImagePreview()
        }, 1);
      })

      dom.select('#headerImageURL').on('paste', function(event) {
        setTimeout(function () {
          setHeaderImagePreview()
        }, 1);
      })

      dom.select('#headerImageURL').on('cut', function(event) {
        setTimeout(function () {
          setHeaderImagePreview()
        }, 1);
      })

      function displayWaiting() {
        clearTimeout(waitingTimeout);
        dom.select('#response .alert-danger').hide()
        dom.select('#response .alert-success').hide()

        dom.select('#response .alert-info').show()
        dom.select('#response').show()
        dom.select('#post-submit-btn').setAttribute('disabled', true);
        waitingTimeout = setTimeout(function () {
          displayError(new Error('Failed to recieve a response. You can try resubmitting now.'));
        }, 15000);
      }

      function displayError(error) {
        clearTimeout(waitingTimeout);
        dom.select('#response .alert-info').hide()
        dom.select('#post-submit-btn').removeAttribute('disabled');
        if (error) {
          dom.select('#response').show()
          dom.select('#response .alert-success').hide()
          dom.select('#response .alert-danger').show()
          dom.select('#main-response-code').setInnerHTML(error)
        } else {
          dom.select('#response').show()
          dom.select('#response .alert-success').show()
          dom.select('#response .alert-danger').hide()
        }
      }

      function toTitleCase(str) {
        var lowerCaseWords = [
          // short conjunctions
          "and", "as", "but", "for", "if", "nor", "or", "so", "yet", "although", "because", "since", "unless",

          // articles
          "a", "an", "the",

          // short prepositions
          "as", "at", "by", "for", "in", "of", "off", "on", "per", "to", "up", "via", "with", "from", "over", "under", "about", "after", "against", "between", "during", "into", "through", "upon", "within",

          // other common short words
          "is", "are", "was", "be", "am", "do"
        ];

        return str
          .split(' ')
          .map(function (word, i, arr) {
            if (i === 0 || i === arr.length - 1 || !lowerCaseWords.includes(word.toLowerCase())) {
              return word[0].toUpperCase() + word.substr(1).toLowerCase();
            } else {
              return word.toLowerCase();
            }
          })
          .join(' ');
      }

      dom.select('#google-doc-form').on('submit', function (event) {
        var formData = {};
        dom.select('#google-doc-form input, #google-doc-form select, #google-doc-form textarea').each(function (el, i) {
          var curField = dom.select(el);
          formData[curField.getAttribute('name')] = curField.getValue();
        })

        Manager.log('#google-doc-form', formData);

        dom.select('#import-btn').setAttribute('disabled', true);

        WonderfulFetch(formData.importUrl, {
          method: 'GET',
          response: 'text',
        })
        .then(function (data) {
          // console.log('Success', data);
          // Manager.dom().select('#result').setInnerHTML(res.status + '\n' + JSON.stringify(data, undefined, 2)); // Set setInnerHTML
          //temp
          // var query = query || {};

          // Clean
          var body = data.match(/<div id="contents"[^>]*>((.|[\n\r])*)<\/div>/im)[1]; // extract body
          // var body = data.match(/<body[^>]*>((.|[\n\r])*)<\/body>/im)[1]; // extract body
          // body = body.replace(/<script[^>]*>((.|[\n\r])*)<\/script>/im, ''); // Remove script
          body = body.replace(/<style[^>]*>((.|[\n\r])*)<\/style>/im, ''); // Remove style
          // body = body.replace(/<div id="header"[^>]*>((.|[\n\r])*?)<\/div>/im, ''); // Remove style

          var title = (data.match(/<div id="title"[^>]*>((.|[\n\r])*?)<\/div>/im) || [])[1]; // extract title
          title = (title || '')
            .replace('.docx', '')
            .replace('.doc', '')
            .replace(/[^a-zA-Z0-9\u00C0-\u017F-:\s]+/g, '') // remove non-alphanumeric characters except dashes
            .replace(/\s+/g, ' ') // replace multiple spaces with one
            .trim();

          // Set title casing
          title = toTitleCase(title);

          dom.select('#title').setValue(turndownService.turndown(title))

          // Fix no spaces with links
          // body = body.replace(/><a/img, '> <a');
          // body = body.replace(/><\/a/img, '> </a');
          // body = body.replace(/<\/a></img, ' </a><');
          // setTimeout(function () {
          triggerTitleChange('title')
          // }, 300);

          // https://github.com/domchristie/turndown
          var markdown = turndownService.turndown(body);

          document.getElementById('markdown-holder').value = markdown; // just to see what it looks like before processing

          // Remove whitespace
          // markdown = markdown
          //   .replace(/^\n\s*/gm, '');

          // Fix no spaces with links
          markdown = markdown
            .replace(/([a-zA-Z0-9])(\[)/g, '$1 $2') // add space when there are brackets
            .replace(/(\))([a-zA-Z0-9])/g, '$1 $2') // add space when there are parenthesis

          // Fixes
          markdown = markdown
            .replace(/ \. /img, '. ') // fix periods
            .replace(/ \, /img, ', ') // fix periods
            .replace(/\)\s\s+/img, ') ') // fix double space
            .replace(/\s\s+\[/img, ' [') // fix double space

          // Clear promo stuff
          // markdown = markdown
            // .replace(/Published using Google Docs \[.*\)/img, '') // remove google
            // .replace(/Updated automatically.*every 5 minutes/img, '') // remove google

          // Remove hr breaks
          // console.log('---formData.replaceHeadings', formData.replaceHeadings);
          if (formData.replaceHeadings) {
            markdown = markdown
              .replace(/(\n|^)([a-zA-Z0-9].+).*?(\n={3,})/img, '$1# $2') // replace = with #
              .replace(/(\n|^)([a-zA-Z0-9].+).*?(\n-{3,})/img, '$1## $2') // replace - with ##
              .replace(/(\n|^)(={3,}).*(={3,})/img, '') // remove extra =
              .replace(/(\n|^)(-{3,}).*(-{3,})/img, '') // remove extra -
          }
          markdown = markdown.replace(/(\n|^)(#+.+)(\n\n*)/img, '$1$2\n'); // remove linebreaks after headings

          // Fix headings where numbers come before the hashtags such as 1. #, 2. ##
          markdown = markdown
            .replace(/(\n|^)([0-9]+\.)(\s*)(#*)/img, '$4 $2')

          // Remove links from titles
          markdown = markdown
            .replace(/(#+\s.+?)(\s\[)/g, '$1\n$2')

          var links = [];
          links = markdown.match(/(?:\[(.*?)\]\((.*?)\))/img) || [];
          // Fix Google Links
          for (var i = 0; i < links.length; i++) {
            if (markdown.indexOf('!' + links[i]) === -1) {
              var alt = ((links[i].match(/\[(.*?)\]/img)|| [])[0]+'').replace(/(\[|\])/img, '');
              var link = ((links[i].match(/\((.*?)\)/img)|| [])[0]+'').replace(/(\(|\))/img, '').replace(/\s.*?"(.*?)"\s*/g,'');
              var newLink = false;
              var needsReplacing = link.indexOf('url?q=') !== -1;
              if (needsReplacing) {
                newLink = new URLSearchParams(link.split('?')[1]).get('q');
                // console.log('Extracted link:', newLink);
              }
              if (needsReplacing) {
                markdown = markdown.replace(`[${alt}](${link})`, `[${alt}](${newLink})`)
              }
            }
          }

          // Clean lines
          markdown = markdown
            .replace(/^\n/g, '') // fix start line-breaks
            .replace(/^\n/m, '') // fix start line-breaks stragler
            .replace(/\n$/g, '') // fix end line-breaks
            .replace(/\n$/g, '') // fix end line-breaks

          // Remove header if its first
          markdown = markdown.replace(/^#(.*?)\n/im, '')

          // remove first image and set it to the main image field
          var imageMatchingRegex = /!\[\]\((.*?)\)/im
          var firstImage = (markdown.match(imageMatchingRegex) || [])[1]
          markdown = markdown.replace(imageMatchingRegex, '');

          dom.select('#headerImageURL').setValue(firstImage || '');

          // Get rid of source images
          markdown = markdown.replace(/Image source: (.*?)\s/img, '\n');

          // Insert ads
          markdown = splice(markdown, getPos(markdown, '\n', 1, false), 0, '\n\n{% include /master/modules/adunits/adsense-in-article.html index="1" %}\n\n')
          markdown = splice(markdown, getPos(markdown, '\n', 5, true), 0, '\n\n{% include /master/modules/adunits/adsense-in-article.html index="1" %}\n\n')

          // Replace extra line breaks to make it look nice
          markdown = markdown.replace(/\n{3,}/g,'\n\n')

          // Replace any multiple spaces with one
          markdown = markdown.replace(/ +/g, ' ');

          // Trim
          markdown = markdown.trim()

          // Extract excerpt
          var excerpt = markdown
            // Remove images and links
            .replace(/\[(.*?)\]\((.*?)\)/g, '$1')
            // Separate by line breaks
            .match(/(?:.*?\.){2}/)[0] || '';

          // Set exceprt
          dom.select('#excerpt').setValue(excerpt);

          dom.select('#body').setValue(markdown);
          dom.select('#google-doc-error').hide();

          $('#importGoogleDoc').modal('toggle');
          dom.select('#import-btn').removeAttribute('disabled');

          if (!dom.select('#headerImageURL').getValue()) {
            randomizeHeaderImage();
          }

          setHeaderImagePreview()
          countChars();
          countCharactersAndWords();
        })
        .catch(function (e) {
          console.error(e);
          dom.select('#google-doc-error').show();
          dom.select('#google-response-code').setInnerHTML(e);
          dom.select('#import-btn').removeAttribute('disabled');
        })

      })
    })
    .catch(function (e) {
      console.error(e);
    })

  }, {
    waitFor: function () {
      return typeof window.Stackedit !== 'undefined' && typeof window.TurndownService !== 'undefined';
    }
  });

  function getFormData() {
    var data = {}
    dom.select('#post-creator-form input, #post-creator-form select, #post-creator-form textarea')
    .each(function (el, i) {
      var curField = dom.select(el);
      data[curField.getAttribute('name')] = curField.getValue();
    });
    return data;
  }

  function handleChangeEvent() {
    var data = getFormData();
    var invoiceOptions = dom.select('#invoiceOptions');
    if (data.enableInvoice) {
      invoiceOptions.removeAttribute('hidden')
    } else {
      invoiceOptions.setAttribute('hidden', true)
    }
  }

  function countChars() {
    var charCountFields = ['title', 'url', 'excerpt'];
    for (var i = 0; i < charCountFields.length; i++) {
      var cur = dom.select('*[name="' + charCountFields[i] + '"]').get(0);
      dom.select(cur.parentNode.childNodes).each(function (element, i) {
        if (element.matches('.input-group-text')) {
          dom.select(element).setInnerHTML(dom.select(cur).getValue().length);
        }
      })
    }
  }

  function countCharactersAndWords() {
    dom.select('.word-and-character-count').each(function (el, i) {
      var source = dom.select(el.dataset.countSource);
      var el = dom.select(el);
      var value = source.getValue() || ''
      var chars = value.length;
      var words = value.split(' ').length;

      el.setInnerHTML('(' + chars + ' characters, ' + words + ' words' + ')')
    })
  }

  function setupForm() {
    var select = dom.select('#author').get(0);
    for (var i = 0; i < members.length; i++) {
      var opt = document.createElement('option');
      opt.value = members[i];
      opt.innerHTML = members[i];
      select.appendChild(opt);
    }
    // var date = new Date();
    var date = new Date(new Date().setDate(new Date().getDate() - 1));

    dom.select('#title').setValue(fields.title || '');
    dom.select('#url').setValue((fields.url || '').replace(/\/(.*?)\//,'').replace(/\//,''));
    dom.select('#date').setValue(date.toISOString().split('T')[0]);
    dom.select('#id').setValue(fields.id || 1);
    dom.select('#total-posts').setInnerHTML(fields.total);
    dom.select('#author').setValue(fields.author || '');
    dom.select('#affiliate').setValue(fields.affiliateSearchTerm || '');
    dom.select('#tags').setValue((fields.tags || '').toString().replace(/,/g, ', ').replace(/\s\s+/g, ' '));
    dom.select('#categories').setValue((fields.categories || '').toString().replace(/,/g, ', ').replace(/\s\s+/g, ' '));
    dom.select('#excerpt').setValue(fields.excerpt || '');
    dom.select('#replaceImagesIncludeTag').setValue(fields.replaceImagesIncludeTag || '');
    dom.select('#path').setValue('./_posts/' + date.getFullYear() + '/guest');

    // special
    var serverDev = siteUrl + '/_post.json';
    var serverProd = 'https://us-central1-' + Manager.properties.options.libraries.firebase_app.config.projectId + '.cloudfunctions.net/bm_api';
    var serverProdDev = 'http://localhost:5001/' + Manager.properties.options.libraries.firebase_app.config.projectId + '/us-central1/bm_api';
    var env = buildFile.environment;
    dom.select('#processingAddy_dev').setInnerHTML(serverDev).setAttribute('value', serverDev);
    dom.select('#processingAddy_prod').setInnerHTML(serverProd).setAttribute('value', serverProd);
    dom.select('#processingAddy').setValue(env === 'development' ? serverDev : serverProd);
    dom.select('#processingAddy_prodDev').setInnerHTML(serverProdDev).setAttribute('value', serverProdDev);

    if (Manager.properties.meta.environment !== 'development') {
      dom.select('#processingAddy_prodDev').hide();
    }

    dom.select('#body').setValue("## This is a post in markdown! \nClick 'edit' to start authoring your post. \n\nYou can also... \n- Edit in StackEdit \n- Import from Google Docs \n\n[Here is a regular link](https://itwcreativeworks.com) \n[Here is a Google link](https://www.google.com/url?q=https://itwcreativeworks.com) \n![Here is an image](https://via.placeholder.com/1200)");

    // Finally, make everything visible
    dom.select('.loaded-false').hide();
    dom.select('.loaded-true').show();
  }

  function randomizeHeaderImage() {
    var search = dom.select('#headerImageKeywords').getValue() || dom.select('#excerpt').getValue() || dom.select('#title').getValue();
    var url = 'https://api.unsplash.com/photos/random?client_id=' + UNSPLASH_API_KEY + '&orientation=landscape&query=' + encodeURIComponent(search);
    var $unsplashCredits = dom.select('#unsplash-credits');
    var $unsplashCreditsArtist = dom.select('#unsplash-credits-artist');
    // console.log('===url', url);

    WonderfulFetch(url, {
      method: 'GET',
      response: 'json',
    })
    .then(function (json) {
      console.log('Unsplash image', json);

      dom.select('#headerImageURL')
        .setValue(json.urls.regular)
        .setAttribute('data-download-attribution', json.links.download_location)

      $unsplashCredits.removeAttribute('hidden');
      $unsplashCreditsArtist.setAttribute('href', 'https://unsplash.com/@' + json.user.username + '?utm_source=ultimate-jekyll&utm_medium=referral');
      $unsplashCreditsArtist.setInnerHTML(json.user.name);

      setHeaderImagePreview();
    })
  }

  function triggerUnsplashDownload() {
    var url = dom.select('#headerImageURL').getAttribute('data-download-attribution');

    if (url) {
      url = new URL(url);

      url.searchParams.set('client_id', UNSPLASH_API_KEY);

      WonderfulFetch(url, {
        method: 'GET',
        response: 'json',
      })
      .then(function (json) {
        console.log('Triggered Unsplash download', json);
      })
    }
  }

  function setHeaderImagePreview() {
    dom.select('#headerImageURLPreview').setAttribute('src', dom.select('#headerImageURL').getValue());
  }

  function blockNavigation() {
    if (navBlocked === true) {
      return;
    }
    navBlocked = true;
    try {
      window.onbeforeunload = function(event) {
        if (allowLeave) {
          event.preventDefault();
        } else {
          event.returnValue = 'Write something clever here.';
        }
      };
    } catch (e) {
      console.error('Error creating post', e);
    }
  }


  function setupStackedit() {
    Manager.log('Launched stackedit');
    stackedit = new Stackedit({
      url: 'https://stackedit.io/app',
      // url: 'https://social-selectors.itwcreativeworks.com/admin/post/vendor/stackedit/',
    });

    turndownService = new TurndownService();

    // Listen to StackEdit events and apply the changes to the textarea.
    stackedit.on('fileChange', function (file) {
      stackEditElement.value = file.content.text;
    });
  }

  function getPos(str, char, index, backwards) {
    var split = str.split(char);
    var result = 0;
    var done = false;

    split.forEach(function (item, i) {
      if (done) {return}
      result += item.length
      if (!backwards && i === index) {
        done = true
        return
      } else if (backwards && i === split.length - index - 2) {
        done = true
        return
      }
      result += char.length
    })
    return result
  }

  function splice(source, idx, rem, str) {
    return source.slice(0, idx) + str + source.slice(idx + Math.abs(rem));
  };

</script>

<!-- https://benweet.github.io/stackedit.js/ -->
<script src="https://unpkg.com/stackedit-js@1.0.7/docs/lib/stackedit.min.js" async></script>
<!-- <script src="https://unpkg.com/turndown/dist/turndown.js" async></script> -->
<script src="/special/master/pages/admin/posts/vendor/turndown.js" type="text/javascript"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/stackedit-js@1.0.7/docs/lib/stackedit.min.js" async></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/turndown@5.0.3/lib/turndown.cjs.min.js" async></script> -->

          </div>
        </div>

      </div>
    </div>

  </div>
  <!-- End Content -->

</main>

<div class="toast-container position-fixed bottom-0 end-0 p-3">
  <div id="toast-copy" class="toast align-items-center bg-success text-white" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        Copied!
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>


    <!-- Footer -->
    

    <!-- Foot -->

<!-- Initialize GA --><!-- Initialize Meta --><!-- Initialize TikTok --><!-- Master - Chat Opener -->
<a id="prechat-btn" class="animation-fade-in" href="#" onclick="return false;" style="display: none;">
  <svg height="100%" stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 700 700" width="100%" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs/>
    <g id="Untitled">
      <g opacity="1">
        <path d="M62.7544 600.746L62.7544 605.997C62.7544 625.25 73.5016 642.499 91.0016 650.997C97.9988 654.496 105.499 655.998 112.999 655.998C123.746 655.998 134.752 652.499 143.746 645.249L163.495 629.997C186.498 611.745 215.248 601.995 244.493 601.995L379.745 601.995C408.495 601.995 433.495 585.744 446.247 561.994C426.498 551.493 404.494 545.744 382.245 545.744L202.245 545.744C123.495 545.744 59.493 481.994 59.493 403.747L59.493 252.247C25.5029 259.747 0 289.998 0 326.248L0 526.749C0 563.997 27.2486 594.996 62.7516 600.745L62.7544 600.746Z" fill="#ffffff" fill-rule="nonzero" opacity="1" stroke="none"/>
        <path d="M607.498 44.0034L201.998 44.0034C150.999 44.0034 109.497 85.2534 109.497 136.001L109.497 403.758C109.497 454.511 150.999 495.756 202.249 495.756L382.249 495.756C423.248 495.756 463.5 509.506 495.502 534.757L535.503 566.007C544.504 573.256 555.251 576.754 566.255 576.754C573.504 576.754 581.004 575.003 588.008 571.754C605.508 563.256 616.256 546.002 616.256 526.754L616.256 495.253C663.253 491.007 700 451.508 700 403.757L700 135.999C700 85.2526 658.499 44.0025 607.5 44.0025L607.498 44.0034ZM504.747 347.747L304.746 347.747C290.996 347.747 279.746 336.497 279.746 322.747C279.746 308.745 290.996 297.747 304.746 297.747L504.747 297.747C518.748 297.747 529.747 308.745 529.747 322.747C529.747 336.497 518.748 347.747 504.747 347.747ZM504.747 242.495L304.746 242.495C290.996 242.495 279.746 231.497 279.746 217.495C279.746 203.745 290.996 192.495 304.746 192.495L504.747 192.495C518.748 192.495 529.747 203.745 529.747 217.495C529.747 231.497 518.748 242.495 504.747 242.495Z" fill="#ffffff" fill-rule="nonzero" opacity="1" stroke="none"/>
      </g>
    </g>
  </svg>
</a>

<!-- Master - Exit Popup -->
<div id="modal-exit-popup" class="modal fade" tabindex="-1" hidden>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          {title}
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>
          {body}
        </p>
      </div>
      <div class="modal-footer">
        <a href="{okButton.link}" class="btn btn-primary">
          {okButton.text}
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Performance -->
<script type="text/javascript">
  try {
    window.performance.mark('manager_preBundle');
  } catch (e) {}
</script>

<!-- App - Foot Content (pre-bundle) -->
  <!-- App Foot Content (pre-bundle) -->


<!-- Script - Bundle -->


<!-- TODO: FIX THIS -->
<!-- Script - Core -->


<!-- TODO: FIX THIS -->
<!-- Script - Slapform -->

<!-- Script - Bundle --> <!-- Theme  --><script>
	window.hs_config = {
		"autopath": "@@autopath",
		"deleteLine": "hs-builder:delete",
		"deleteLine:build": "hs-builder:build-delete",
		"deleteLine:dist": "hs-builder:dist-delete",
		"previewMode": false,
		"startPath": "/index.html",
		"vars": {
			// "themeFont": "https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap",
			"version": "?v=1.0"
		},
		"layoutBuilder": {
			"extend": {
				"switcherSupport": true
			},
			"header": {
				"layoutMode": "default",
				"containerMode": "container-fluid"
			},
			"sidebarLayout": "default"
		},
		"themeAppearance": {
			"layoutSkin": "default",
			"sidebarSkin": "default",
			"styles": {
				"colors": {
					"primary": "#377dff",
					"transparent": "transparent",
					"white": "#fff",
					"dark": "132144",
					"gray": {
						"100": "#f9fafc",
						"900": "#1e2022"
					}
				},
				"font": "Inter"
			}
		},
		"languageDirection": {
			"lang": "en"
		},
		"skipFilesFromBundle": {
			"dist": ["assets/js/hs.theme-appearance.js", "assets/js/hs.theme-appearance-charts.js", "assets/js/demo.js"],
			"build": ["assets/css/theme.css", "assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js", "assets/js/demo.js", "assets/css/theme-dark.css", "assets/css/docs.css", "assets/vendor/icon-set/style.css",
				"assets/js/hs.theme-appearance.js", "assets/js/hs.theme-appearance-charts.js", "node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.min.js", "assets/js/demo.js"
			]
		},
		"minifyCSSFiles": ["assets/css/theme.css", "assets/css/theme-dark.css"],
		"copyDependencies": {
			"dist": {
				"*assets/js/theme-custom.js": ""
			},
			"build": {
				"*assets/js/theme-custom.js": "",
				"node_modules/bootstrap-icons/font/*fonts/**": "assets/css"
			}
		},
		"buildFolder": "",
		"replacePathsToCDN": {},
		"directoryNames": {
			"src": "./src",
			"dist": "./dist",
			"build": "./build"
		},
		"fileNames": {
			"dist": {
				"js": "theme.min.js",
				"css": "theme.min.css"
			},
			"build": {
				"css": "theme.min.css",
				"js": "theme.min.js",
				"vendorCSS": "vendor.min.css",
				"vendorJS": "vendor.min.js"
			}
		},
		"fileTypes": "jpg|png|svg|mp4|webm|ogv|json"
	}
	window.hs_config.gulpRGBA = (p1) => {
		var options = p1.split(',')
		var hex = options[0].toString()
		var transparent = options[1].toString()

		var c;
		if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {
			c = hex.substring(1).split('');
			if (c.length == 3) {
				c = [c[0], c[0], c[1], c[1], c[2], c[2]];
			}
			c = '0x' + c.join('');
			return 'rgba(' + [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') + ',' + transparent + ')';
		}
		throw new Error('Bad Hex');
	}
	window.hs_config.gulpDarken = (p1) => {
		var options = p1.split(',')

		var col = options[0].toString()
		var amt = -parseInt(options[1])
		var usePound = false

		if (col[0] == "#") {
			col = col.slice(1)
			usePound = true
		}
		var num = parseInt(col, 16)
		var r = (num >> 16) + amt
		if (r > 255) {
			r = 255
		} else if (r < 0) {
			r = 0
		}
		var b = ((num >> 8) & 0x00FF) + amt
		if (b > 255) {
			b = 255
		} else if (b < 0) {
			b = 0
		}
		var g = (num & 0x0000FF) + amt
		if (g > 255) {
			g = 255
		} else if (g < 0) {
			g = 0
		}
		return (usePound ? "#" : "") + (g | (b << 8) | (r << 16)).toString(16)
	}
	window.hs_config.gulpLighten = (p1) => {
		var options = p1.split(',')

		var col = options[0].toString()
		var amt = parseInt(options[1])
		var usePound = false

		if (col[0] == "#") {
			col = col.slice(1)
			usePound = true
		}
		var num = parseInt(col, 16)
		var r = (num >> 16) + amt
		if (r > 255) {
			r = 255
		} else if (r < 0) {
			r = 0
		}
		var b = ((num >> 8) & 0x00FF) + amt
		if (b > 255) {
			b = 255
		} else if (b < 0) {
			b = 0
		}
		var g = (num & 0x0000FF) + amt
		if (g > 255) {
			g = 255
		} else if (g < 0) {
			g = 0
		}
		return (usePound ? "#" : "") + (g | (b << 8) | (r << 16)).toString(16)
	}
</script>

<script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/js/hs.theme-appearance.js" charset="utf-8"></script>

<!-- <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js"></script> -->
<!-- JS Global Compulsory  --> <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/jquery/dist/jquery.min.js"></script> <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/jquery-migrate/dist/jquery-migrate.min.js"></script> <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<!-- JS Implementing Plugins --> <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/datatables/media/js/jquery.dataTables.min.js"></script> <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/datatables.net.extensions/select/select.min.js"></script> <!-- <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/datatables.net-buttons/js/dataTables.buttons.min.js"></script> --> <!-- <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/vendor/datatables.net-buttons/js/buttons.flash.min.js"></script> -->
<!-- JS Front --> <script src="https://cdn.itwcreativeworks.com/assets/ultimate-jekyll/vendor/front-admin/v2/js/theme.min.js"></script>
<!-- ITW CW --> <script src="https://cdn.jsdelivr.net/npm/wonderful-fetch@latest/dist/index.min.js?cb=1725149950"></script> <script type="text/javascript" src="https://social-selectors.itwcreativeworks.com/assets/js/base.js?cb=1725149950" async defer></script><style media="screen">
  body[data-theme="dark"] #main-logo {
    filter: brightness(0) invert(1);
  }
</style>

<script type="text/javascript">
  (function() {
    // https://stackoverflow.com/questions/326069/how-to-identify-if-a-webpage-is-being-loaded-inside-an-iframe-or-directly-into-t
    var inIframe = false;
    try {
      inIframe = window.self !== window.top;
    } catch (e) {
      inIframe = true;
    }

    if (!inIframe)  {return}

    function _sendParentMessage(message) {
      window.parent.postMessage(message, '*')
    }

    function messageHandler(event) {
      var message = event.data || {};
      var command = message.command || '';
      var payload = message.payload || {};

      console.log('Message', command, payload.type, message);

      if (command === 'embed-manager:update') {
        if (payload.type === 'theme-change') {
          setTheme(payload.theme)
        }
      }
    }

    function setTheme(theme) {
      try {
        theme = theme || HSThemeAppearance.getAppearance();
        HSThemeAppearance.setAppearance(theme)
        document.body.setAttribute('data-theme', theme);
      } catch (e) {
        console.error('Cannot set appearance', e);
      }
    }

    setTheme();

    window.addEventListener('message', messageHandler, false);

    // Fetch build.json
    fetch('https://social-selectors.itwcreativeworks.com/@output/build/build.json?cb=' + new Date().getTime(), {
      method: 'GET',
    })
    .then(function (res) {
      if (res.ok) {
        res.json()
        .then(function (data) {
          _sendParentMessage({
            command: 'embed-manager:update',
            payload: {
              type: 'init',
              url: window.location.href,
              build: data,
            },
          })
        })
      } else {
        return res.text()
        .then(function (data) {
          throw new Error(data || res.statusText || 'Unknown error.')
        })
      }
    })
    .catch(function (e) {
      var error = new Error('Failed to fetch build.json: ' + e)
      console.error(error);
      alert(error)
    })

    // Fetch auth
    Manager.auth().ready(function () {
      var user = firebase.auth().currentUser || {};
      _sendParentMessage({
        command: 'embed-manager:update',
        payload: {
          type: 'auth',
          user: {
            authenticated: !!user.uid,
            uid: user.uid,
            email: user.email,
          },

        }
      })
    })
  }());
</script>



<!-- Script - Google Analytics Tracking Script -->
  
  <script type="text/javascript">
    function gtag() {};
  </script>



<!-- Script - Facebook Pixel Tracking Script -->
  
  <script type="text/javascript">
    function fbq() {};
  </script>



<!-- Script - TikTok Pixel Tracking Script -->
  
  <script type="text/javascript">
    window.ttq = {
      load: function () {},
      page: function () {},
      track: function () {},
      identify: function () {},
    }
  </script>



<!-- Script - Social Share Kit Script -->


<!-- Script - Google Adsense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7372939085773564" crossorigin="anonymous"></script>


<!-- Schema - Breadcrumbs -->
<!-- Only include the https://schema.org if size > -1 because it throws an error on Google Search Console if the itemListElement is empty -->
  
  
  
  

  <script id="uj-breadcrumbs-json" type="application/ld+json">
    {"@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "name": "ITW Creative Works",
      
      "itemListElement": [{
              "@type": "ListItem",
              "position": 1,
              "item": {
                "@id": "https://social-selectors.itwcreativeworks.com/admin",
                "name": "admin"
              }
            },{
              "@type": "ListItem",
              "position": 2,
              "item": {
                "@id": "https://social-selectors.itwcreativeworks.com/admin/posts",
                "name": "posts"
              }
            },{
              "@type": "ListItem",
              "position": 3,
              "item": {
                "@id": "https://social-selectors.itwcreativeworks.com/admin/posts/create",
                "name": "create"
              }
            }]
    }
  </script>


<!-- Schema - Brand -->
  <script id="uj-brand-json" type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Corporation",
      "@id": "https://social-selectors.itwcreativeworks.com#Corporation",
      "url": "https://social-selectors.itwcreativeworks.com",
      "name": "ITW Creative Works",
      "description": "Default description.",
      "logo": "https://cdn.itwcreativeworks.com/assets/itw-creative-works/images/logo/itw-creative-works-brandmark-black-1024x1024.png",
      "sameAs": ["https://social-selectors.itwcreativeworks.com"
      ],
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Los Angeles",
        "addressCountry": "United States"
      }
    }
  </script>


<!-- Schema - Sitelinks -->
  <script id="uj-website-json" type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebSite",
      "@id": "https://social-selectors.itwcreativeworks.com#WebSite",
      "url": "https://social-selectors.itwcreativeworks.com",
      "name": "ITW Creative Works",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://social-selectors.itwcreativeworks.com/search/cse?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
  </script>


<!-- Schema - BlogPosting -->

<!-- Schema - Person -->

<!-- App - Foot Content -->


<!-- Page - Injected head -->


</body>
</html>
